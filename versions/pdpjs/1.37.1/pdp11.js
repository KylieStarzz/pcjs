(function(){/*
 http://pcjs.org/modules/shared/lib/diskapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/dumpapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/reportapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/userapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/keys.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/strlib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/weblib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/messages.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/device.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/cpu.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/rom.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/ram.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/keyboard.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/pc11.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/rk11.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/rl11.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/rx11.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/computer.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/state.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/embed.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/defines.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/usrlib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/component.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/defines.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/panel.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/bus.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/memory.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/cpustate.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/cpuops.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/serial.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/disk.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/drive.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/debugger.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp11/lib/debugger.js (C) Jeff Parsons 2012-2017
*/
var h,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(){ca=function(){};ba.Symbol||(ba.Symbol=da)}var da=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function ea(){ca();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(this)}});ea=function(){}}function fa(a){var b=0;return ha(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ha(a){ea();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}function ia(a){ea();ca();ea();var b=a[Symbol.iterator];return b?b.call(a):fa(a)}
var ja="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ka;if("function"==typeof Object.setPrototypeOf)ka=Object.setPrototypeOf;else{var la;a:{var ma={Dd:!0},na={};try{na.__proto__=ma;la=na.Dd;break a}catch(a){}la=!1}ka=la?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var pa=ka;
function p(a,b){a.prototype=ja(b.prototype);a.prototype.constructor=a;if(pa)pa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Zj=b.prototype}function qa(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}
qa("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b}});qa("Math.log2",function(a){return a?a:function(a){return Math.log(a)/Math.LN2}});qa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});
var ra={163840:[40,1,8,,254],184320:[40,1,9,,252],327680:[40,2,8,,255],368640:[40,2,9,,253],737280:[80,2,9,,249],1228800:[80,2,15,,249],1474560:[80,2,18,,240],2949120:[80,2,36,,240],10653696:[306,4,17],21411840:[615,4,17],256256:[77,1,26,128],2494464:[203,2,12,512],5242880:[256,2,40,256],10485760:[512,2,40,256]},sa={Rh:0,Vd:1,Yh:2,Zh:3,$h:4,ai:5,bi:6,ci:7,ld:8,di:9,Wd:10,ei:11,fi:12,Xd:13,gi:14,hi:15,ii:16,ji:17,ki:18,li:19,mi:20,ni:21,oi:22,pi:23,ri:24,si:25,ti:26," ":32,"!":33,'"':34,"#":35,$:36,
"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,jd:65,Nh:66,Th:67,ui:68,E:69,Ai:70,Di:71,Pi:72,Ri:73,Si:74,Ti:75,Ui:76,Xi:77,Zi:78,ej:79,hj:80,Q:81,jj:82,mj:83,vj:84,xj:85,zj:86,Aj:87,Ej:88,Fj:89,Me:90,"[":91,"\\":92,"]":93,"^":94,_:95,"`":96,Dd:97,Hj:98,Kj:99,d:100,e:101,Lj:102,Mj:103,Nj:104,Oj:105,Tj:106,k:107,Uj:108,Vj:109,n:110,Wj:111,p:112,q:113,r:114,Xj:115,t:116,$j:117,
ak:118,bk:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126,Ab:127};
function ta(a,b){if(a){b||(b=10);var c,d=0<a.indexOf(",");d&&(a=a.replace(/,/g,""));var e=c=a.charAt(0);"#"==c?(b=8,c=""):"$"==c&&(b=16,c="");e!=c?a=a.substr(1):(e=c=a.substr(0,2),"0b"==c&&d||"^B"==c?(b=2,c=""):"0o"==c||"^O"==c?(b=8,c=""):"^D"==c?(b=10,c=""):"0x"==c&&(b=16,c=""),e!=c&&(a=a.substr(2)));e=c=a.slice(-1);"Y"==c||"y"==c?(b=2,c=""):"."==c?(b=10,c=""):"H"==c||"h"==c?(b=16,c=""):"K"==c?c="000":"M"==c?c="000000":"G"==c&&(c="000000000");e!=c&&(a=a.slice(0,-1)+c);var f;e=0;10>=b&&(c=a.match(/(-?[0-9]+)B([0-9]*)/))&&
(a=c[1],e=35-((c[2]||35)&255));c=a;if(((d=b)&&10!=d?16==d?null!==c.match(/^-?[0-9a-f]+$/i):8==d?null!==c.match(/^-?[0-7]+$/):2==d&&null!==c.match(/^-?[01]+$/):null!==c.match(/^-?[0-9]+$/))&&!isNaN(f=parseInt(a,b))){e&&(0>f&&(f+=Math.pow(2,36)),f=0<e?f*Math.pow(2,e):Math.trunc(f/Math.pow(2,-e)));var g=f}}return g}
function ua(a,b,c,d){var e=void 0===e?0:e;var f="";isNaN(a)?a=null:null!=a&&(0>a&&-1<a&&(a=-1),0>a&&(a+=Math.pow(b,c)),a>=Math.pow(b,c)&&(c=Math.ceil(Math.log(a)/Math.log(b))));for(var g=e||-1;0<c--;){g||(f=","+f,g=e);if(null==a)f="?"+f;else{var k=a%b;k+=0<=k&&9>=k?48:55;f=String.fromCharCode(k)+f;a=Math.trunc(a/b)}g--}return(void 0===d?"":d)+f}function va(a,b){b?12<b&&(b=12):(b=Math.abs(a),b=262143>=b?6:16777215>=b?8:12);return ua(a,8,b,"")}
function wa(a,b,c){b?9<b&&(b=9):(b=Math.abs(a),b=65535>=b?4:4294967295>=b?8:9);return ua(a,16,b,c?"0x":"")}function xa(a,b){var c=a,d=a.lastIndexOf("/");0<=d&&(c=a.substr(d+1));d=c.indexOf("&");0<d&&(c=c.substr(0,d));b&&(d=c.lastIndexOf("."),0<d&&(c=c.substring(0,d)));return c}function ya(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase());return b}function za(a,b){return-1!==a.indexOf(b,a.length-b.length)}function Aa(a){return a.replace(/[&<>"']/g,function(a){return Ba[a]})}
function Ca(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}var Ba={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},Da={0:"NUL",1:"SOH",2:"STX",3:"ETX",4:"EOT",5:"ENQ",6:"ACK",7:"BEL",8:"BS",9:"TAB",10:"LF",11:"VT",12:"FF",13:"CR",14:"SO",15:"SI",16:"DLE",17:"XON",18:"DC2",19:"XOFF",20:"DC4",21:"NAK",22:"SYN",23:"ETB",24:"CAN",25:"EM",26:"SUB",27:"ESC",28:"FS",29:"GS",30:"RS",31:"US"};
function Ea(){var a,b="";a||(a=new Date);for(var c=a.getHours(),d=a.getDate(),e=a.getMonth()+1,f=0;11>f;f++){var g;switch(g="Y-m-d H:i:s".charAt(f)){case "a":b+=12>c?"am":"pm";break;case "d":b+=("0"+d).slice(-2);break;case "D":b+=Fa[a.getDay()].substr(0,3);break;case "F":b+=Ga[e-1];break;case "g":b+=c?12<c?c-12:c:12;break;case "h":b+=c;break;case "H":b+=("0"+c).slice(-2);break;case "i":b+=("0"+a.getMinutes()).slice(-2);break;case "j":b+=d;break;case "l":b+=Fa[a.getDay()];break;case "m":b+=("0"+e).slice(-2);
break;case "M":b+=Ga[e-1].substr(0,3);break;case "n":b+=e;break;case "s":b+=("0"+a.getSeconds()).slice(-2);break;case "y":b+=(""+a.getFullYear()).slice(-2);break;case "Y":b+=a.getFullYear();break;default:b+=g}}return b}var Fa="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ga="January February March April May June July August September October November December".split(" ");
function Ha(a,b,c,d){c=void 0===c?!1:c;var e=0,f=null,g=null;if("object"==typeof resources&&(f=resources[a]))return d&&d(a,f,e),[f,e];if(c&&"function"==typeof resources)return resources(a,function(b,c){d&&d(a,b,c)}),g;var k=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c&&(k.onreadystatechange=function(){4===k.readyState&&(f=k.responseText,200==k.status||!k.status&&f.length&&"file:"==(window?window.location.protocol:"file:")||(e=k.status||-1),d&&d(a,
f,e))});if(b&&"object"==typeof b){var l="",m;for(m in b)b.hasOwnProperty(m)&&(l&&(l+="&"),l+=m+"="+encodeURIComponent(b[m]));l=l.replace(/%20/g,"+");k.open("POST",a,c);k.setRequestHeader("Content-type","application/x-www-form-urlencoded");k.send(l)}else k.open("GET",a,c),"bytes"==b&&k.overrideMimeType("text/plain; charset=x-user-defined"),k.send();c||(f=k.responseText,200!=k.status&&(e=k.status||-1),d&&d(a,f,e),g=[f,e]);return g}
function Ia(a,b){var c,d={L:null,ia:null,ea:null,da:null};if("["==b.charAt(0)||"{"==b.charAt(0))try{var e,f;if("<"==b.charAt(0))throw Error(b);var g=0>b.indexOf("0x")&&0>b.indexOf("0o")&&'["'!=b.substr(0,2)?JSON.parse(b.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+b+")");d.ea=g.load;d.da=g.exec;if(e=g.bytes)d.L=e;else if(e=g.words)for(d.L=Array(2*e.length),f=c=0;c<e.length;c++)d.L[f++]=e[c]&255,d.L[f++]=e[c]>>8&255;else if(e=g.longs)for(d.L=Array(4*e.length),f=c=0;c<e.length;c++)d.L[f++]=
e[c]&255,d.L[f++]=e[c]>>8&255,d.L[f++]=e[c]>>16&255,d.L[f++]=e[c]>>24&255;else(e=g.data)?d.Gj=e:d.L=g;d.L&&(d.L.length?1==d.L.length&&(r(d.L[0]),d=null):(r("Empty resource: "+a),d=null));d.ia=g.symbols}catch(k){r("Resource data error ("+a+"): "+k.message),d=null}else{e=[];b=b.replace(/\n/gm," ").replace(/ +$/,"").split(" ");for(c=0;c<b.length;c++){f=parseInt(b[c],16);if(isNaN(f)){r("Resource data error ("+a+"): invalid hex byte ("+b[c]+")");break}e.push(f&255)}c==b.length&&(d.L=e)}return d}
function Ja(){return"http://"+(window?window.location.host:"www.pcjs.org")}function Ka(){if(null==La){var a=!1;if(window)try{window.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==window.localStorage.getItem("PCjs.localStorage"),window.localStorage.removeItem("PCjs.localStorage")}catch(b){a=!1}La=a}return La}function Ma(a){if(window)try{var b=window.localStorage.getItem(a)}catch(c){}return b}
function Na(a,b){try{return window.localStorage.setItem(a,b),!0}catch(c){}return!1}function Oa(a){if(window){var b=window?window.navigator.userAgent:"";return"iOS"==a&&!!b.match(/(iPod|iPhone|iPad)/)&&!!b.match(/AppleWebKit/)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}
function Pa(a){if(!Qa){var b,c={};if(window){b||(b=window.location.search.substr(1));for(var d,e=/\+/g,f=/([^&=]+)=?([^&]*)/g;d=f.exec(b);)c[decodeURIComponent(d[1].replace(e," "))]=decodeURIComponent(d[2].replace(e," "))}Qa=c}return Qa[a]||Qa[a.toLowerCase()]}function Ra(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function Sa(a){Ta.init.push(a)}
function Va(a){if(Wa)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){r(""+("An unexpected exception occurred:\n\n"+c.message+"\n\nPlease send this information to support@pcjs.org. Thanks."))}}function Xa(a){!Wa&&a?(Wa=!0,Ya&&Za("init"),$a&&Za("show")):Wa=a}function Za(a){Ta[a]&&Va(Ta[a])}var Qa=null,Ta={init:[],show:[],exit:[]},Ya=!1,$a=!1,Wa=!0,La=null;Ra("onload",function(){Ya=!0;Va(Ta.init)});Ra("onpageshow",function(){$a=!0;Va(Ta.show)});
Ra(Oa("iOS")?"onpagehide":Oa("Opera")?"onunload":"onbeforeunload",function(){Va(Ta.exit)});function t(a,b,c){this.type=a;b||(b={id:"",name:""});this.id=b.id||"";this.name=b.name;this.qd=b.comment;this.Ke=b;this.exports={};this.o=this.bindings={};a=this.id.indexOf(".");0>a?this.qc=this.id:(this.Ua=this.id.substr(0,a),this.qc=this.id.substr(a+1));this.j={ready:!1,Ra:!1,Xc:!1,Sj:!1,S:!1,fd:!1,error:!1};this.gc=null;this.j.error=!1;this.pd=c||0;this.D=this.c=this.v=this.A=null;w.push(this)}
function ab(a,b,c){bb[a]&&b&&(bb[a][b]=c)}function cb(){return Date.now()||+new Date}function r(a){window&&window.alert(a)}function db(a){var b=!1;window&&(b=window.confirm(a));return b}function eb(a,b){a.value+=b;b=a.value;8192<b.length&&(a.value=b.substr(b.length-4096));a.scrollTop=a.scrollHeight}
function x(a,b){var c=y;b=z(b.parentNode,c+"-control");for(var d=0;d<b.length;d++)for(var e=b[d].childNodes,f=0;f<e.length;f++){var g=e[f];if(1===g.nodeType){var k=g.getAttribute("class");if(k)for(var l=k.split(" "),m=0;m<l.length;m++)switch(k=l[m],k){case c+"-binding":(k=A(g))&&k.binding&&a.ma(k.type,k.binding,g,k.value),m=l.length}}}}function fb(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");for(b=0;b<w.length;b++){var d=w[b];a&&d.id.indexOf(a)||c.push(d)}return c}
function gb(a){if(void 0!==a){var b;for(b=0;b<w.length;b++)if(w[b].id===a)return w[b]}return null}function hb(a,b){var c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");for(d=0;d<w.length;d++)if(c)c==w[d]&&(c=null);else if(!(a!=w[d].type||b&&w[d].id.indexOf(b)))return w[d]}return null}function A(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(c){r(c.message+" ("+a+")")}return b}
function z(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var e=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)e.test(a[b].className)&&c.push(a[b]);return c}
function ib(a){for(var b=!0,c=jb[a];c&&c.length;){var d=c.splice(0,1)[0],e=d[0],f=null;0<=kb.indexOf(e)&&(f=function(){return function(){ib(a)}}());var g=lb[e];if(g)if(!f)b=g(d[1],d[2],d[3]);else{if(!g(f,d[1],d[2],d[3]))break}else{b=!1;var k=hb(d[1],a);if(k)if(g=mb[e])b=g(k,d[2],d[3]);else{var l=k.exports;if(l&&(g=l[e]))if(b=!0,!f)b=g.call(k,d[2],d[3]);else if(!g.call(k,f,d[2],d[3]))break}}if(!b){r("Script error: '"+e+(g?" failed":" unrecognized"));break}}c&&!c.length&&delete jb[a];return b}h=t.prototype;
h.toString=function(){return this.name?this.name:this.id||this.type};
h.ma=function(a,b,c){switch(b){case "clear":return this.o[b]||(this.o[b]=c,c.onclick=function(a){return function(){a.o.print&&(a.o.print.value="")}}(this)),!0;case "print":return this.o[b]||(this.o[b]=c,this.G=function(a){this.aa(a,this.type);return!0},c.value="",this.print=function(a){return function(b){eb(a,b)}}(c),this.aa=function(a,b){return function(a,c){a||(a="");if(c!=nb||"..."!=a.slice(-3))c&&(a=c+": "+a),eb(b,a+"\n");else{c=b.value;var d=c.lastIndexOf(a);0>d?c+=a+"\n":c=c.substr(0,d)+(a+
".")+c.substr(d+a.length);8192<c.length&&(c=c.substr(c.length-4096));b.value=c;b.scrollTop=b.scrollHeight}}}(this,c)),!0;default:return!1}};h.log=function(){};h.print=function(){};h.aa=function(){};h.status=function(a){this.aa(this.type+": "+a)};h.G=function(a,b,c){if(!b){var d=hb("Computer",this.id);if(d&&d.j.fd)return console.log("ignoring notice during unload: "+a),!1}c=c||this.type;b||r((c?c+": ":"")+a);return!0};function ob(a,b){b&&(a.j.ready?b():a.gc=b);return a.j.ready}
function B(a,b){a.j.error||(a.j.ready=!1!==b,a.j.ready&&(b=a.gc,a.gc=null,b&&b()))}function pb(a,b){a.j.Xc?(a.j.Ra=!1,a.j.Xc=!1):a.j.error?a.aa(a.toString()+" error"):a.j.Ra=b}h.la=function(){return this.j.S=!0};h.ka=function(a,b){b&&(this.j.S=!1);return!0};var nb="progress";window&&(window.PCjs||(window.PCjs={}),window.PCjs.Machines||(window.PCjs.Machines={}),window.PCjs.Components||(window.PCjs.Components=[]),window.PCjs.Commands||(window.PCjs.Commands={}));
var bb=window?window.PCjs.Machines:{},w=window?window.PCjs.Components:[],jb=window?window.PCjs.Commands:{},kb=["hold","sleep","wait"],lb={alert:function(a){r(a);return!0},sleep:function(a,b){setTimeout(a,+b);return!1}},mb={select:function(a,b,c){var d=!1;if(a=a.bindings[b])for(b=0;b<a.options.length;b++)if(a.options[b].textContent==c){a.selectedIndex!=b&&(a.selectedIndex=b);d=!0;break}return d}};
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;b<c;b++)if(this[b]===a)return b;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind: non-callable object");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});
var qb="undefined"!==typeof ArrayBuffer,y="pdp11",rb="PDPjs",sb=!0,tb=!0,C={Rc:5,Vc:144,Bc:8,$b:{De:15,nj:16,Dj:32,xd:64,ha:128,Bd:256,rj:512,yi:1024,Zb:2048,xi:4096,Mc:57344,V:{Mc:13}},re:{Cd:1,Xh:2,Ee:3,gb:28,Yb:32,Xb:64,rd:128,wj:256,Yd:512,Cb:1024,ij:2048,Ad:4096,Bj:8192,gj:16384,Zd:32768,Hc:32736},pe:{Bb:1,ca:14,fb:48,eb:64,za:128,uj:256,zi:512,Bi:1024,fe:2048,Tc:8192,Hc:16384,Ja:32768,gb:4608,Db:61438,va:3967,V:{ca:1,fb:4}},qe:{Sc:15,Kc:16,zb:8160,Ta:57344,V:{Kc:4,zb:5,Ta:13}},ca:{Ud:0,Fb:2,
Va:4,Wc:6,cc:8,je:10,$d:12,Cj:14}},D={Rc:5,Vc:112,Bc:4,ie:"DY",we:{ha:1,ca:14,ya:48,eb:64,za:128,Ta:768,md:15360,wi:16384,Ja:32768,Uh:16254,qj:128,Db:65535,va:1022,V:{ca:1,ya:4,Ta:8}},ue:{va:65534},xe:{Fe:1,Ge:4,He:16,oj:65408,yd:63,bc:64,Eb:65408,be:3,Ii:8,V:{bc:6,Eb:7}},ac:{ee:{Vi:0,tj:1,Sh:2,Wi:3,cc:4,ge:5,yj:6,sj:7},nd:8,de:16,Fi:32,Hi:64,ce:128,Gi:256,Li:512,Ni:1024,Ki:2048,Ji:4096,Oi:8192,Ei:16384,Mi:32768},ve:{Fa:63},md:{fj:1024,vi:2048,Cd:2048,Qi:3072,Yd:4096,Ba:5120,Cb:8192,Yi:9216},ca:{$i:0,
Wc:2,Ie:4,cc:6,ne:8,Le:10,ke:12,kj:14}},ub={Rc:5,Vc:180,Bc:2,ie:"DX",ze:{Bb:1,ca:14,Uc:16,DONE:32,eb:64,Ga:128,INIT:16384,Ja:32768,gb:16128,Db:32992,va:16479},lj:{},Ce:{Fa:127},Be:{Fa:31},Ae:{kd:1,ud:2,Mc:4,Ab:64,ha:128},ca:{Ec:0,EMPTY:2,Fb:4,Va:6,gb:8,me:10,dc:12,le:14},ae:{Ic:8,Jc:16,Oh:24,he:32,Ci:40,pj:48,Qc:56,dj:72,cj:80,bj:88,Wh:96,Qh:104,aj:112,Pc:120,Vh:128,Ph:136}},vb={48:"DL11R",52:"DL11X",56:"PC11R",60:"PC11X",64:"KW11",112:"RL11",144:"RK11",180:"RX11"};
ub.ye=["DX",77,1,26,128,1,0,0,128,0];C.Zb=["RK",203,2,12,512,0,0,0,512,C.$b.Zb|C.$b.Bd|C.$b.xd];D.se=["RL",512,2,40,256,0,0,0,256,D.ac.ee.ge|D.ac.nd|D.ac.de];y="pdp11";rb="PDPjs";tb=sb=!0;
function wb(a,b){t.call(this,"Panel",a,512);this.i=this.l=0;this.F=b;this.U=this.g=this.f=this.b=0;this.s=this.u=-1;this.w=this.B=this.m=!1;this.C=xb;this.h={};this.a={START:[1,1,!0,!1,this.jf],STEP:[1,1,!1,!1,this.kf],ENABLE:[1,1,!1,!1,this.df],CONT:[1,1,!0,!1,this.bf],DEP:[0,0,!0,!1,this.cf],EXAM:[1,1,!0,!1,this.ef],LOAD:[1,1,!0,!1,this.gf],TEST:[0,0,!0,!1,this.ff]};for(a=0;22>a;a++)this.a["S"+a]=[0,0,!1,!1,this.hf,a];this.D=this.c=this.v=this.A=null;this.exports={hold:this.Ye,toggle:this.Dg,reset:this.wg,
set:this.Bg};B(this)}p(wb,t);h=wb.prototype;h.reset=function(a){this.stop();a&&yb(this,this.b=0)};
h.ma=function(a,b,c,d){if(this.A&&this.A.ma(a,b,c,d)||this.c&&this.c.ma(a,b,c,d))return!0;switch(b){case "R0":case "R1":case "R2":case "R3":case "R4":case "R5":case "R6":case "R7":case "NF":case "ZF":case "VF":case "CF":case "PS":return this.o[b]=c,this.l++,!0;default:return"led"==a||"rled"==a?(this.o[b]=c,this.h[b]=d?1:0,this.l++,!0):"switch"==a?(void 0===this.a[b]&&(this.a[b]=[d?1:0,d?1:0]),this.o[b]=c,a=c.parentElement||c,a=a.parentElement||a,a.onmousedown=function(a,b){return function(){zb(a,
b)}}(this,b),a.onmouseup=a.onmouseout=function(a,b){return function(){Ab(a,b)}}(this,b),a.ontouchstart=function(a,b){return function(c){zb(a,b);c.preventDefault()}}(this,b),a.ontouchend=function(a,b){return function(){Ab(a,b)}}(this,b),!0):t.prototype.ma.call(this,a,b,c,d)}};h.ja=function(a,b,c,d){this.A=a;this.v=b;this.c=c;this.D=d;Bb(b,this,Cb);Db(b,this.reset.bind(this));Eb(this);Fb(this)};h.la=function(a,b){if(!b)if(this.F&&Gb(),!a)this.reset(!0);else if(!this.restore(a))return!1;return!0};
h.ka=function(a){return a?this.save():!0};h.save=function(){var a=new E(this);a.set(0,[this.U,this.b,this.f]);return a.data()};h.restore=function(a){if(a=a[0])Hb(this,this.U=a[0]),yb(this,this.b=a[1]),Ib(this,a[2]);return!0};h.wg=function(){for(var a in this.a){var b=this.a[a];b[1]=b[0]}Fb(this);return!0};function Jb(a,b,c){if(a=a.o[b])a.style.backgroundColor=c?"#ff0000":"#000000"}function Eb(a,b){for(var c in a.h)Jb(a,c,null!=b?b:a.h[c])}
function Kb(a,b,c){if(a=a.o[b])a.style.marginTop=c?"0px":"20px",a.style.backgroundColor=c?"#00ff00":"#228B22"}function Fb(a){for(var b in a.a)Kb(a,b,a.a[b][1])}function Lb(a,b,c,d){if(a.o[b]){var e=a.D&&a.D.h||8;c=c||0;c=8==e?va(c,d):wa(c,d);a.o[b].textContent!=c&&(a.o[b].textContent=c)}}h.Ye=function(a,b,c){if(zb(this,b)){if(c){var d=this;setTimeout(function(){Ab(d,b);a&&a()},+c);return!1}Ab(this,b)}return!0};
h.Bg=function(a,b){if("SR"==a)return Ib(this,ta(b,8));var c=this.a[a];return c?(c[1]=+b?1:0,Kb(this,a,c[1]),!0):!1};h.Dg=function(a){return zb(this,a)?(Ab(this,a),!0):!1};function zb(a,b){var c=a.a[b];return c?(Kb(a,b,c[1]=1-c[1]),c[3]=!0,c[4]&&c[4].call(a,c[1],c[5]),b!=Mb&&(a.w=b==Nb,a.B=b==Ob),!0):!1}function Ab(a,b){var c=a.a[b];c&&(c[2]&&c[3]&&(Kb(a,b,c[1]=c[0]),c[4]&&c[4].call(a,c[1],c[5])),c[3]=!1)}
h.jf=function(a){a||this.c.j.N||(F(this.c,this.U),a=this.c,a.v.reset(),Pb(a),this.a[Qb]&&this.a[Qb][1]&&Rb(this.c))};h.kf=function(){};h.df=function(a){a||G(this.c)};
h.bf=function(a){if(!a&&!this.c.j.N)if(this.a[Qb]&&this.a[Qb][1])Rb(this.c);else{a=this.D;var b;if(b=a)a.j.Ra&&(a.j.Xc=!0),b=!a.j.Ra;if(b)pb(a,!0),a.f(0,null),pb(a,!1);else try{var c=this.c.zc(1);0<c&&(Sb(this.c,c),Tb(this.c,c,!0),Ub(this.c,c))}catch(d){"number"!=typeof d&&(a=d,c=this.c,a=a.stack||a.message,c.j.error=!0,c.G(a))}this.stop();this.A&&Vb(this.A)}};
h.cf=function(a){if(a&&!this.c.j.N)if(this.w&&Wb(this),a=yb(this,this.b=this.f),this.C==xb)Xb(this.v,this.U,a);else{var b=this.c,c=this.U;b.nb++;b.v.Wb(Yb(b,c,4),a);b.nb--}};h.ef=function(a){if(!a&&!this.c.j.N){this.B&&Wb(this);if(this.C==xb)a=Zb(this.v,this.U);else{a=this.c;var b=this.U;a.nb++;b=a.v.Vb(Yb(a,b,2));a.nb--;a=b}yb(this,this.b=a)}};h.gf=function(a){a||this.c.j.N||Hb(this,this.f)};h.ff=function(a){a?(this.m=!0,Eb(this,!0)):(this.m=!1,Eb(this),Ib(this,0))};
h.hf=function(a,b){this.f=a?this.f|1<<b:this.f&~(1<<b)};function Wb(a){var b=1140>=a.c.sa?8:16,c=65472<=a.U&&a.U<65472+b;b=c?1:2;c=c?15:a.v.u;a.a[Mb]&&a.a[Mb][1]||(b=-b);Hb(a,a.U&~c|a.U+b&c)}function Hb(a,b){a.U=b&a.v.u;if(a.s!==a.U){a.s=a.U;b=a.s;for(var c=0;22>c;c++)$b(a,"A"+c,b&1<<c)}}function yb(a,b){a.g=b&65535;if(a.u!==a.g){a.u=a.g;b=a.u;for(var c=0;16>c;c++)$b(a,"D"+c,b&1<<c)}return a.g}function $b(a,b,c){a.h[b]=c;a.m||Jb(a,b,c)}
function Ib(a,b){a.f=b|0;for(b=0;22>b;b++)a.a["S"+b][1]=a.f&1<<b?1:0;Fb(a);return!0}h.stop=function(){Hb(this,this.c.b[7])};h.setData=function(a,b){b?this.b=a:this.g=a};h.qf=function(a,b){return(b?this.b:this.f)&65535};h.Jg=function(a){this.b=a};function Gb(){for(var a=z(document,y,"panel"),b=0;b<a.length;b++){var c=a[b],d=A(c),e=gb(d.id);e||(e=new wb(d,!0));x(e,c)}}var xb=7,Nb="DEP",Qb="ENABLE",Ob="EXAM",Mb="STEP",ac={},Cb=(ac[65400]=[null,null,wb.prototype.qf,wb.prototype.Jg,"CNSW"],ac);Sa(Gb);
function bc(a,b,c){t.call(this,"Bus",a,16);this.c=b;this.D=c;this.O=+a.busWidth||16;this.C=1<<this.O;this.u=this.C-1;this.g=cc;this.h=Math.log2(this.g);this.J=this.g>>2;this.f=this.g-1;this.s=this.C/this.g|0;this.K=this.s-1;this.Qa=[];this.l=0;this.m=!1;this.F=[];this.Ne=[dc,ec,fc,gc];this.a=this.b=[];this.B=this.w=this.i=this.H=this.I=0;a=new H(this);hc(a);this.a=Array(this.s);this.b=Array(this.s);for(b=0;b<this.s;b++)this.a[b]=this.b[b]=a;this.B=this.C-cc;ic(this,this.B,cc,jc,this);this.I=this.H=
(this.B&this.u)>>>this.h;this.w=0;this.i=this.u;B(this)}p(bc,t);function kc(a,b){if(b!=a.w){for(var c=0;c<a.s;c++)a.b[c]=a.a[c];a.w=0;a.i=a.u;b&&(a.w=b,b=1<<b,a.i=b-1,b-=cc,a.I=(b&a.i)>>>a.h,a.b[a.I]=a.a[a.H])}}h=bc.prototype;h.reset=function(){for(var a=0;a<this.F.length;a++)this.F[a]();kc(this,16)};h.la=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};h.ka=function(a){return a?this.save():!0};h.save=function(){var a=new E(this);a.set(0,lc(this));return a.data()};
h.restore=function(a){a:{a=a[0];var b;for(b=0;b<a.length-1;b+=2){var c=a[b],d=a[b+1];if(d&&d.length<this.J){for(var e=0,f=Array(this.J),g=0;g<d.length-1;)for(var k=d[g++],l=d[g++];k--;)f[e++]=l;d=f}e=this.a[c];if(!e||!e.restore(d)){r("Unable to restore memory block "+c);a=!1;break a}}a=!0}return a};
function ic(a,b,c,d,e){for(var f=b,g=c,k=f>>>a.h;0<g&&k<a.a.length;){var l=a.a[k],m=k*a.g,n=a.g-(f-m);n>g&&(n=g);if(!e&&l&&l.size){if(l.type==d){if(f+g<=l.ab)return l.Rb+=l.ab-f,l.ab=f,!0;if(f>=l.ab+l.Rb){n=l.size-(f-m);n>g&&(n=g);l.Rb=f-l.ab+n;f=m+a.g;g-=n;k++;continue}}return mc(nc,f,g)}f=new H(a,f,n,a.g,d,e);hc(f,l);a.a[k++]=f;f=m+a.g;g-=n}return 0>=g?(a.status("Added "+(c>>10)+"Kb "+oc[d]+" at "+va(b)),!0):mc(pc,b,c)}h.Sd=function(a){return this.b[(a&this.i)>>>this.h].rb(a&this.f,a)};
h.Vb=function(a){var b=a&this.f,c=(a&this.i)>>>this.h;return tb||b!=this.f?this.b[c].W(b,a):this.b[c++].rb(b,a)|this.b[c&this.K].rb(0,a+1)<<8};h.Td=function(a,b){this.b[(a&this.i)>>>this.h].vb(a&this.f,b,a)};h.Wb=function(a,b){var c=a&this.f,d=(a&this.i)>>>this.h;tb||c!=this.f?this.b[d].yb(c,b,a):(this.b[d++].vb(c,b&255,a),this.b[d&this.K].vb(0,b>>8&255,a+1))};function qc(a,b){return a.a[(b&a.u)>>>a.h]}
function Zb(a,b){var c;a.m=!1;a.l++;var d=b&a.f,e=qc(a,b);tb||d!=a.f?c=e.D(d,b):c=e.i(d,b)|qc(a,b+1).i(0,b+1)<<8;a.l--;return c}function rc(a,b,c){a.m=!1;a.l++;qc(a,b).o(b&a.f,c&255,b);a.l--}function Xb(a,b,c){a.m=!1;a.l++;var d=b&a.f,e=qc(a,b);tb||d!=a.f?e.l(d,c&65535,b):(e.o(d,c&255,b),qc(a,b+1).o(0,c>>8&255,b+1));a.l--}
function lc(a){for(var b=0,c=[],d=0;d<a.s;d++){var e=a.a[d];if(e.Ha||e.Ue){c[b++]=d;var f=b++;if(e=e.save()){for(var g=0,k=0,l=[];g<e.length;){for(var m=e[g],n=g+1;n<e.length&&e[n]===m;)n++;l[k++]=n-g;l[k++]=m;g=n}l.length<e.length&&(e=l)}c[f]=e}}return c}function sc(a){for(var b=tc,c=0,d=0;d<a.a.length;d++){var e=a.a[d];e.type==b&&(c=e.ab+e.Rb)}return c}
function uc(a,b,c,d,e,f,g,k,l){for(var m=b==c?-1:0;b<=c;b+=2){var n=b&vc;if(void 0!==a.Qa[n])return r("I/O address already registered: "+wa(b,8,!0)),!1;var q=l||"unknown";q&&0<=m&&(q+=m++);a.Qa[n]=[d,e,f,g,q,k||16,!1]}return!0}
function Bb(a,b,c,d){for(var e in c){var f=+e+(d||0),g=c[e];if(!(g[6]&&g[6]>a.c.sa)){var k=g[0]?g[0].bind(b):null,l=g[1]?g[1].bind(b):null,m=g[2]?g[2].bind(b):null,n=g[3]?g[3].bind(b):null;65472<=f&&65487>=f&&(!k&&m&&(k=function(a){return function(b){return a(b)&255}.bind(b)}(m)),!l&&n&&(l=function(a){return function(b,c){return a(b,c)}.bind(b)}(n)));for(var q=g[4],v=g[5]||1,u=0;u<v;u++,f+=2)if(q&&1<v&&(q=g[4]+u),!uc(a,f,f,k,l,m,n,g[7]||b.pd,q||b.qc))return!1}}return!0}
function Db(a,b){a.F.push(b)}function I(a,b,c){a.m=!0;a.l||(c&&(a.c.F|=c),J(a.c,4,0,b))}function wc(a){var b=a.m;a.m=!1;return b}function mc(a,b,c){r("Memory block error ("+a+": "+wa(b)+","+wa(c)+")");return!1}var cc=8192,vc=cc-1,nc=1,pc=2;function dc(a,b){var c=-1,d=this.controller,e=d.Qa[a],f=b&65535;e?e[0]?c=e[0](f):e[2]&&(c=f&1?e[2](f&-2)>>8:e[2](f)&255):f&1&&(e=d.Qa[a&-2])&&(e[2]?c=e[2](f&-2)>>8:e[0]&&(c=e[0](f)));if(0<=c)return c;I(d,b,16);return 255}
function ec(a,b,c){var d=!1,e=this.controller,f=e.Qa[a],g=c&65535;if(f)if(f[1])f[1](b,g),d=!0;else{if(f[3]){a=f[2]?f[2](g,!0):0;if(g&1)f[3](a&255|b<<8,g&-2);else f[3](a&-256|b,g);d=!0}}else g&1&&(f=e.Qa[a&-2])&&(f[3]?(g&=-2,a=f[2]?f[2](g,!0):0,f[3](a&255|b<<8,g),d=!0):f[1]&&(f[1](b,g),d=!0));d||I(e,c,16)}function fc(a,b){var c=-1,d=this.controller;a=d.Qa[a];var e=b&65535;a&&(a[2]?c=a[2](e):a[0]&&(c=a[0](e)|a[0](e+1)<<8));if(0<=c)return c;I(d,b,16);return 65535}
function gc(a,b,c){var d=!1,e=this.controller;a=e.Qa[a];var f=c&65535;a&&(a[3]?(a[3](b,f),d=!0):a[1]&&(a[1](b&255,f),a[1](b>>8,f+1),d=!0));d||I(e,c,16)}function K(a){t.call(this,"Device",a,256);this.a={Ia:128,ed:-1}}p(K,t);h=K.prototype;h.ja=function(a,b,c,d){this.v=b;this.A=a;this.c=c;this.D=d;var e=this;this.a.ed=xc(c,function(){e.a.Ia|=128;e.a.Ia&64&&yc(e.c,e.a.qa);e.A&&Vb(e.A,1);zc(e.c,e.a.ed,1E3/60)});this.a.qa=Ac(c,64,6,2097152);Bb(b,this,Bc);Db(b,this.reset.bind(this));B(this)};
h.la=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};h.ka=function(a){return a?this.save():!0};h.reset=function(){this.a.Ia=128;zc(this.c,this.a.ed,1E3/60,!0)};h.save=function(){var a=new E(this);a.set(0,[this.a.Ia]);return a.data()};h.restore=function(a){a=ia(a[0]);this.a.Ia=a.next().value;return!0};h.xf=function(){return this.a.Ia};h.Qg=function(a){this.a.Ia=a&192;this.a.Ia&64||(a=this.a.qa)&&Dc(this.c,a)};h.zf=function(){return Ec(this.c)};
h.Sg=function(a){Fc(this.c,a&-129|this.c.J&128)};h.Af=function(){return Gc(this.c)};h.Bf=function(){return Hc(this.c)};h.Cf=function(){return this.c.ta};h.Tg=function(a){Ic(this.c,a)};h.ng=function(a){a=a>>1&63;var b=this.c.Pa[a>>1];return a&1?b>>16:b&65535};h.Fh=function(a,b){b=b>>1&63;var c=b>>1;this.c.Pa[c]=b&1?this.c.Pa[c]&65535|(a&63)<<16:this.c.Pa[c]&-65536|a&65534};h.gg=function(a){return this.c.s[1][a>>1&7]};h.yh=function(a,b){this.c.s[1][b>>1&7]=a&65295};
h.eg=function(a){return this.c.s[1][(a>>1&7)+8]};h.wh=function(a,b){this.c.s[1][(b>>1&7)+8]=a&65295};h.fg=function(a){return this.c.H[1][a>>1&7]};h.xh=function(a,b){b=b>>1&7;this.c.H[1][b]=a;this.c.s[1][b]&=65295};h.dg=function(a){return this.c.H[1][(a>>1&7)+8]};h.vh=function(a,b){b=(b>>1&7)+8;this.c.H[1][b]=a;this.c.s[1][b]&=65295};h.wf=function(a){return this.c.s[0][a>>1&7]};h.Pg=function(a,b){this.c.s[0][b>>1&7]=a&65295};h.uf=function(a){return this.c.s[0][(a>>1&7)+8]};
h.Ng=function(a,b){this.c.s[0][(b>>1&7)+8]=a&65295};h.vf=function(a){return this.c.H[0][a>>1&7]};h.Og=function(a,b){b=b>>1&7;this.c.H[0][b]=a;this.c.s[0][b]&=65295};h.tf=function(a){return this.c.H[0][(a>>1&7)+8]};h.Mg=function(a,b){b=(b>>1&7)+8;this.c.H[0][b]=a;this.c.s[0][b]&=65295};h.mg=function(a){return this.c.s[3][a>>1&7]};h.Eh=function(a,b){this.c.s[3][b>>1&7]=a&65295};h.kg=function(a){return this.c.s[3][(a>>1&7)+8]};h.Ch=function(a,b){this.c.s[3][(b>>1&7)+8]=a&65295};
h.lg=function(a){return this.c.H[3][a>>1&7]};h.Dh=function(a,b){b=b>>1&7;this.c.H[3][b]=a;this.c.s[3][b]&=65295};h.jg=function(a){return this.c.H[3][(a>>1&7)+8]};h.Bh=function(a,b){b=(b>>1&7)+8;this.c.H[3][b]=a;this.c.s[3][b]&=65295};h.tb=function(a){a&=7;return this.c.i&2048?this.c.ua[a]:this.c.b[a]};h.wb=function(a,b){b&=7;this.c.i&2048?this.c.ua[b]=a:this.c.b[b]=a};h.Jf=function(){return this.c.i&49152?this.c.ga[0]:this.c.b[6]};h.$g=function(a){this.c.i&49152?this.c.ga[0]=a:this.c.b[6]=a};
h.Mf=function(){return this.c.b[7]};h.dh=function(a){this.c.b[7]=a};h.ub=function(a){a&=7;return this.c.i&2048?this.c.b[a]:this.c.ua[a]};h.xb=function(a,b){b&=7;this.c.i&2048?this.c.b[b]=a:this.c.ua[b]=a};h.Kf=function(){return 1==(this.c.i&49152)>>14?this.c.b[6]:this.c.ga[1]};h.ah=function(a){1==(this.c.i&49152)>>14?this.c.b[6]=a:this.c.ga[1]=a};h.Lf=function(){return 3==(this.c.i&49152)>>14?this.c.b[6]:this.c.ga[3]};h.bh=function(a){3==(this.c.i&49152)>>14?this.c.b[6]=a:this.c.ga[3]=a};
h.sf=function(a){return this.c.Pb[a-65504>>1]};h.Lg=function(a,b){this.c.Pb[b-65504>>1]=a};h.Nd=function(a){return 65520==a?(sc(this.v)>>6)-1:0};h.Qd=function(){};h.ig=function(){return 1};h.Ah=function(){};h.rf=function(){return this.c.F};h.Kg=function(){this.c.F=0};h.yf=function(){return this.c.Mb};h.Rg=function(a,b){b&1||(a&=255);this.c.Mb=a};h.Df=function(a,b){return b?0:this.c.$a};h.Ug=function(a){var b=this.c;if(a&=65024){var c=a>>9;do a+=34;while(c>>=1);b.g|=1}b.$a=a};
h.hg=function(a,b){return b?0:this.c.Oa&65280};h.zh=function(a){this.c.Oa=a|255};h.If=function(){return Jc(this.c)};h.Zg=function(a){Kc(this.c,a)};h.Pd=function(){};
var L={},Bc=(L[61568]=[null,null,K.prototype.ng,K.prototype.Fh,"UNIMAP",64,1170],L[62592]=[null,null,K.prototype.gg,K.prototype.yh,"SIPDR",8,1145,64],L[62608]=[null,null,K.prototype.eg,K.prototype.wh,"SDPDR",8,1145,64],L[62624]=[null,null,K.prototype.fg,K.prototype.xh,"SIPAR",8,1145,64],L[62640]=[null,null,K.prototype.dg,K.prototype.vh,"SDPAR",8,1145,64],L[62656]=[null,null,K.prototype.wf,K.prototype.Pg,"KIPDR",8,1140,64],L[62672]=[null,null,K.prototype.uf,K.prototype.Ng,"KDPDR",8,1145,64],L[62688]=
[null,null,K.prototype.vf,K.prototype.Og,"KIPAR",8,1140,64],L[62704]=[null,null,K.prototype.tf,K.prototype.Mg,"KDPAR",8,1145,64],L[62798]=[null,null,K.prototype.Cf,K.prototype.Tg,"MMR3",1,1145,64],L[65382]=[null,null,K.prototype.xf,K.prototype.Qg,"LKS"],L[65402]=[null,null,K.prototype.zf,K.prototype.Sg,"MMR0",1,1140,64],L[65404]=[null,null,K.prototype.Af,K.prototype.Pd,"MMR1",1,1145,64],L[65406]=[null,null,K.prototype.Bf,K.prototype.Pd,"MMR2",1,1140,64],L[65408]=[null,null,K.prototype.mg,K.prototype.Eh,
"UIPDR",8,1140,64],L[65424]=[null,null,K.prototype.kg,K.prototype.Ch,"UDPDR",8,1145,64],L[65440]=[null,null,K.prototype.lg,K.prototype.Dh,"UIPAR",8,1140,64],L[65456]=[null,null,K.prototype.jg,K.prototype.Bh,"UDPAR",8,1145,64],L[65472]=[null,null,K.prototype.tb,K.prototype.wb,"R0SET0"],L[65473]=[null,null,K.prototype.tb,K.prototype.wb,"R1SET0"],L[65474]=[null,null,K.prototype.tb,K.prototype.wb,"R2SET0"],L[65475]=[null,null,K.prototype.tb,K.prototype.wb,"R3SET0"],L[65476]=[null,null,K.prototype.tb,
K.prototype.wb,"R4SET0"],L[65477]=[null,null,K.prototype.tb,K.prototype.wb,"R5SET0"],L[65478]=[null,null,K.prototype.Jf,K.prototype.$g,"R6KERNEL"],L[65479]=[null,null,K.prototype.Mf,K.prototype.dh,"R7KERNEL"],L[65480]=[null,null,K.prototype.ub,K.prototype.xb,"R0SET1",1,1145],L[65481]=[null,null,K.prototype.ub,K.prototype.xb,"R1SET1",1,1145],L[65482]=[null,null,K.prototype.ub,K.prototype.xb,"R2SET1",1,1145],L[65483]=[null,null,K.prototype.ub,K.prototype.xb,"R3SET1",1,1145],L[65484]=[null,null,K.prototype.ub,
K.prototype.xb,"R4SET1",1,1145],L[65485]=[null,null,K.prototype.ub,K.prototype.xb,"R5SET1",1,1145],L[65486]=[null,null,K.prototype.Kf,K.prototype.ah,"R6SUPER",1,1145],L[65487]=[null,null,K.prototype.Lf,K.prototype.bh,"R6USER",1,1145],L[65504]=[null,null,K.prototype.sf,K.prototype.Lg,"CTRL",8,1170],L[65520]=[null,null,K.prototype.Nd,K.prototype.Qd,"LSIZE",1,1170],L[65522]=[null,null,K.prototype.Nd,K.prototype.Qd,"HSIZE",1,1170],L[65524]=[null,null,K.prototype.ig,K.prototype.Ah,"SYSID",1,1170],L[65526]=
[null,null,K.prototype.rf,K.prototype.Kg,"ERR",1,1170],L[65528]=[null,null,K.prototype.yf,K.prototype.Rg,"MBR",1,1170],L[65530]=[null,null,K.prototype.Df,K.prototype.Ug,"PIR"],L[65532]=[null,null,K.prototype.hg,K.prototype.zh,"SLR"],L[65534]=[null,null,K.prototype.If,K.prototype.Zg,"PSW"],L);
Sa(function(){for(var a=z(document,y,"device"),b=0;b<a.length;b++){var c=a[b];var d=A(c);switch(d.type){case "default":d=new K(d);x(d,c);break;case "pc11":d=new Lc(d);x(d,c);break;case "rl11":d=new M(d);x(d,c);break;case "rk11":d=new N(d);x(d,c);break;case "rx11":d=new Mc(d),x(d,c)}}});
function H(a,b,c,d,e,f){this.b=a;this.id=Nc+=2;this.c=null;this.ab=b;this.Rb=c;this.size=d||0;this.type=e||Oc;this.A=e==Pc;this.controller=null;this.rb=this.i=this.ad;this.W=this.D=this.bd;this.vb=this.o=this.Ub;this.yb=this.l=this.gd;this.g=this.h=0;hc(this);this.Ha=this.Ue=!1;if(this.size)if(f)this.controller=f,a=[null,0],this.c=a[0],Qc(this,f.Ne);else if(qb)this.f=new ArrayBuffer(this.size),this.v=new DataView(this.f,0,this.size),this.a=new Uint8Array(this.f,0,this.size),this.m=new Uint16Array(this.f,
0,this.size>>1),this.c=new Int32Array(this.f,0,this.size>>2),Qc(this,Rc?Sc:Uc);else{a=this.c=Array(this.size>>2);for(f=0;f<a.length;f++)a[f]=0;Qc(this,Vc)}else Qc(this)}h=H.prototype;h.save=function(){var a;if(this.controller)var b=null;else if(qb)for(b=Array(this.size>>2),a=0;a<b.length;a++)b[a]=this.v.getInt32(a<<2,!0);else b=this.c;return b};
h.restore=function(a){if(this.controller)return!a;if(a&&this.size==a.length<<2){var b;if(qb)for(b=0;b<a.length;b++)this.v.setInt32(b<<2,a[b],!0);else this.c=a;return this.Ha=!0}return!1};function Qc(a,b){b||(b=Wc);Xc(a,b,void 0);Yc(a,b,void 0)}function Xc(a,b,c){c&&a.g||(a.rb=b[0]||a.ad,a.W=b[2]||a.bd);if(c||void 0===c)a.i=b[0]||a.ad,a.D=b[2]||a.bd}function Yc(a,b,c){c&&a.h||(a.vb=!a.A&&b[1]||a.Ub,a.yb=!a.A&&b[3]||a.gd);if(c||void 0===c)a.o=b[1]||a.Ub,a.l=b[3]||a.gd}
function hc(a,b){a.g=a.h=0;b&&((a.g=b.g)&&Xc(a,Zc,!1),(a.h=b.h)&&Yc(a,Zc,!1))}h.ad=function(a,b){I(this.b,b,32);return 255};h.Ub=function(a,b,c){I(this.b,c,32)};h.bd=function(a,b){return this.rb(a++,b++)|this.rb(a,b)<<8};h.gd=function(a,b,c){this.vb(a++,b&255,c++);this.vb(a,b>>8,c)};h.pf=function(a){return this.c[a>>2]>>>((a&3)<<3)&255};h.sg=function(a,b){sb&&a&1&&I(this.b,b,64);b=a>>2;a=(a&3)<<3;var c=this.c[b]>>a;return 24>a?c&65535:c&255|(this.c[b+1]&255)<<8};
h.Ig=function(a,b){var c=a>>2;a=(a&3)<<3;this.c[c]=this.c[c]&~(255<<a)|b<<a;this.Ha=!0};h.Jh=function(a,b,c){sb&&a&1&&I(this.b,c,64);c=a>>2;a=(a&3)<<3;24>a?this.c[c]=this.c[c]&~(65535<<a)|b<<a:(this.c[c]=this.c[c]&16777215|b<<24,c++,this.c[c]=this.c[c]&-256|b>>8);this.Ha=!0};h.mf=function(a,b){return this.i(a,b)};h.pg=function(a,b){return this.D(a,b)};h.Gg=function(a,b,c){this.A?this.Ub(0,0,c):this.o(a,b,c)};h.Hh=function(a,b,c){this.A?this.Ub(0,0,c):this.l(a,b,c)};h.lf=function(a){return this.a[a]};
h.nf=function(a){return this.a[a]};h.og=function(a,b){sb&&a&1&&I(this.b,b,64);return this.v.getUint16(a,!0)};h.rg=function(a,b){sb&&a&1&&I(this.b,b,64);return!tb&&a&1?this.a[a]|this.a[a+1]<<8:this.m[a>>1]};h.Fg=function(a,b){this.a[a]=b;this.Ha=!0};h.Hg=function(a,b){this.a[a]=b;this.Ha=!0};h.Gh=function(a,b,c){sb&&a&1&&I(this.b,c,64);this.v.setUint16(a,b,!0);this.Ha=!0};h.Ih=function(a,b,c){sb&&a&1&&I(this.b,c,64);!tb&&a&1?(this.a[a]=b,this.a[a+1]=b>>8):this.m[a>>1]=b;this.Ha=!0};
var Oc=0,tc=1,Pc=2,jc=4,oc=["NONE","RAM","ROM","VID","H/W"],Nc=0,Wc=[],Vc=[H.prototype.pf,H.prototype.Ig,H.prototype.sg,H.prototype.Jh],Zc=[H.prototype.mf,H.prototype.Gg,H.prototype.pg,H.prototype.Hh];if(qb)var Uc=[H.prototype.lf,H.prototype.Fg,H.prototype.og,H.prototype.Gh],Sc=[H.prototype.nf,H.prototype.Hg,H.prototype.rg,H.prototype.Ih];var $c;if(qb){var ad=new ArrayBuffer(2);(new DataView(ad)).setUint16(0,256,!0);$c=256===(new Uint16Array(ad))[0]}else $c=!1;var Rc=$c;
function bd(a,b){t.call(this,"CPU",a,1);b=+a.cycles||b;var c=+a.multiplier||1;this.hd=0;this.tc=b;this.Za=c;this.Fc=Math.round(this.tc/1E4)/100;this.ib=this.Fc*this.Za;this.Gc=this.Lb=this.lb=this.vc=0;this.j.N=this.j.dd=!1;this.j.Y=a.autoStart;"string"==typeof this.j.Y&&(this.j.Y="true"==this.j.Y);this.j.ec=!1;this.rc=this.cb=0;this.sc=+a.csStart;this.Jb=+a.csInterval;this.Kb=+a.csStop;this.X=[];this.td=this.xg.bind(this);this.Na=this.Da=this.Ma=this.a=this.ba=this.Ca=this.Hb=this.La=this.mb=this.Lc=
this.Wa=0;this.pa=null;B(this)}p(bd,t);h=bd.prototype;h.ja=function(a,b,c,d){this.A=a;this.v=b;this.D=d;this.pa=a.f;for(a=0;a<cd.length;a++)(b=this.o[cd[a]])&&this.A.ma(null,cd[a],b);B(this)};h.reset=function(){};h.save=function(){return null};h.restore=function(){return!1};
h.la=function(a,b){var c=dd(this.A,"autoStart");null!=c?this.j.Y="true"==c?!0:"false"==c?!1:!!c:null==this.j.Y&&(this.j.Y=void 0===this.o.run);if(!b){if(a){ed(this);if(!this.restore(a))return!1;fd(this)}else this.reset();this.status("No debugger detected");this.j.Y||this.aa("CPU will not be auto-started "+(this.pa?"(click Run to start)":"(type 'go' to start)"))}return!0};h.ka=function(a){return a?this.save():!0};h.Y=function(){return this.j.N?!0:this.j.Y?Rb(this):!1};h.Id=function(){return 0};
function fd(a){void 0===a.sc&&(a.sc=0);void 0===a.Jb&&(a.Jb=-1);void 0===a.Kb&&(a.Kb=-1);a.j.ec=0<=a.sc&&0<a.Jb;a.j.ec&&(a.rc=0,a.cb=a.sc-a.Na)}function Ub(a,b){if(a.j.ec){var c=!1;a.rc=a.rc+a.Id()|0;a.cb-=b;0>=a.cb&&(a.cb+=a.Jb,c=!0);0<=a.Kb&&a.Kb<=gd(a)&&(a.Jb=a.Kb=-1,fd(a),G(a),c=!0);c&&a.aa(gd(a)+" cycles: checksum="+wa(a.rc))}}
h.ma=function(a,b,c){var d=this;switch(b){case "power":case "reset":return this.o[b]=c,!0;case "run":return this.o[b]=c,c.onclick=function(){var a;if(a=d.A)if(a=d.A,a.j.S)a=!0;else{var b=null,c,k=fb(a.id);for(c=0;c<k.length&&(b=k[c],b===a||b.j.ready);c++);if(c==k.length)for(c=0;c<k.length&&(b=k[c],b===a||b.j.S);c++);c==k.length&&(b=a);r("The "+b.type+" component ("+b.id+") is not "+(b.j.ready?"powered yet":"ready yet"+(b.gc?" (waiting for notification)":""))+".");a=!1}a&&(d.j.N?G(d):Rb(d))},!0;case "speed":return this.o[b]=
c,!0;case "setSpeed":return this.o[b]=c,c.onclick=function(){hd(d,d.Za<<1,!0)},c.textContent=this.ib.toFixed(2)+"Mhz",!0}return!1};function Tb(a,b,c){a.Na+=b;c&&(a.Ma=a.a=a.ba=0)}function id(a,b){var c=1;b&&1<a.Za&&a.Wa&&(c=a.Wa/a.Fc);a.Gc=Math.round(1E3/jd);a.Lb=Math.floor(a.tc/jd*c);b||(a.lb=a.Lb);a.vc=0}function gd(a){return a.Na+a.Da+a.Ma-a.a}function ed(a){a.Wa=0;a.Lc=0;a.Na=a.Da=a.Ma=a.a=a.ba=0;fd(a);hd(a,1)}
function hd(a,b,c){if(void 0!==b){.8>a.Wa/a.ib&&(b=1);a.Za=b;b=a.Fc*a.Za;if(a.ib!=b){a.ib=b;b=a.ib.toFixed(2)+"Mhz";var d=a.o.setSpeed;d&&(d.textContent=b);a.aa("target speed: "+b)}c&&a.A&&kd(a.A)}Tb(a,a.Da);a.Da=0;a.Ca=cb();a.La=0;id(a)}function xc(a,b){var c=a.X.length;a.X.push([-1,b]);return c}function zc(a,b,c,d){0<=b&&b<a.X.length&&(d||0>a.X[b][0])&&(c=a.tc*a.Za/1E3*c|0,a.j.N&&(c+=ld(a)),a.X[b][0]=c)}function md(a){for(var b=[],c=0;c<a.X.length;c++)b.push(a.X[c][0]);return b}
function Sb(a,b){for(var c=a.X.length-1;0<=c;c--){var d=a.X[c];0>d[0]||(d[0]-=b,0>=d[0]&&(d[0]=-1,d[1]()))}}function ld(a,b){var c=a.Ma-=a.a;a.a=a.ba=0;b&&(a.Ma=0);return c}
h.xg=function(){if(this.j.N){this.vc>=this.tc&&id(this,!0);this.mb=0;this.Hb=cb();if(this.La){var a=this.Hb-this.La;a>this.Gc&&(this.Ca+=a,this.Ca>this.Hb&&(this.Ca=this.Hb))}try{do{for(var b,c=this.j.ec?1:this.Lb,d=this.X.length-1;0<=d;d--){var e=this.X[d];0>e[0]||c>e[0]&&(c=e[0])}b=c;try{this.zc(b)}catch(f){if("number"!=typeof f)throw f;}b=ld(this,!0);this.mb+=b;this.Da+=b;Ub(this,b);Sb(this,b);this.lb-=b;if(0>=this.lb){this.lb+=this.Lb;++this.Lc>=nd&&(this.A&&Vb(this.A,void 0),this.Lc=0);break}}while(this.j.N)}catch(f){G(this);
this.A&&this.A.stop(cb(),gd(this));a=f.stack||f.message;this.j.error=!0;this.G(a);return}if(this.j.N){a=setTimeout;b=this.td;this.La=cb();c=this.Gc;this.mb&&(c=Math.round(c*this.mb/this.Lb));c-=this.La-this.Hb;if(d=this.La-this.Ca)this.Wa=Math.round(this.Da/(10*d))/100,864E5<=d&&(this.Na=0,hd(this));if(0>c||this.Wa<this.ib)-1E3>c&&(this.Ca-=c),c=0;this.vc+=this.mb;this.La+=c;a(b,c)}}};
function Rb(a){if(a.j.error){a.aa(a.toString()+" error");var b=!0}else b=!1;if(b)return!1;if(a.j.N)return a.aa(a.toString()+" busy"),!1;hd(a);a.j.N=!0;a.j.dd=!0;if(b=a.o.run)b.textContent="Halt";a.A&&a.A.start(a.Ca,gd(a));a.D||a.status("Started");setTimeout(a.td,0);return!0}h.zc=function(){return 0};function G(a){var b=!1;if(a.j.N){ld(a);Tb(a,a.Da);a.Da=0;a.j.N=!1;if(b=a.o.run)b.textContent="Run";a.A&&a.A.stop(cb(),gd(a));b=!0;a.D||a.status("Stopped")}a.j.complete=void 0;return b}
var jd=30,nd=15,cd=["power","reset"];
function od(a){var b=+a.model||1170;bd.call(this,a,6666667);this.sa=b;this.lc=+a.addrReset||0;this.Ea=this.i=this.B=this.u=this.l=this.m=this.w=0;this.b=this.ua=this.ga=[];this.H=this.s=this.Pa=this.Pb=[];this.Ka=this.C=this.od=this.jb=this.Xa=this.Ya=this.kb=this.F=this.Mb=this.$a=this.Oa=this.J=this.Nb=this.Ob=this.ta=this.g=0;this.Je=[4,2,0,1];this.wc=0;this.sd=255;1120>=this.sa?(this.vd=pd.bind(this),this.hb=this.Re,this.wc=8,this.sd=-1,this.zd=255,this.wd=0):(this.vd=qd.bind(this),this.hb=this.Se,
this.zd=~(1792|(1140>=this.sa?2048:0))&65535,this.wd=1140<this.sa?2048:0);this.Oc=this.Nc=this.nb=0;this.I=null;this.Gb=[];this.ic=this.xc=this.Ve;this.jc=this.yc=this.Xe;this.Ac=this.Cc=this.zg;this.kc=this.Dc=this.Cg;this.Aa=this.hc=0;this.ra=this.Jd;this.W=this.Od;this.yb=this.Rd;this.h=this.f=this.pc=this.K=this.O=0;this.j.complete=!1}p(od,bd);h=od.prototype;h.ja=function(a,b,c,d){bd.prototype.ja.call(this,a,b,c,d);this.xc=b.Sd.bind(b);this.yc=b.Vb.bind(b);this.Cc=b.Td.bind(b);this.Dc=b.Wb.bind(b)};
h.la=function(a,b){for(var c=192,d=0;d<this.Gb.length;d++){var e=this.Gb[d];0>e.Sb&&(e.Sb=c,c+=4)}return bd.prototype.la.call(this,a,b)};
h.reset=function(){this.status("Model "+this.sa);this.j.N&&G(this);this.u=65536;this.l=32768;this.m=65535;this.w=32768;this.i=15;this.b=[0,0,0,0,0,0,0,this.lc,-1,-2,-3,-4,-5,-6,-7,-8];this.ua=[0,0,0,0,0,0];this.ga=[0,0,0,0];this.H=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];this.s=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,
65535,65535,65535,65535,65535,65535],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];this.Pa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Pb=[0,0,0,0,0,0,0,0];this.B=0;this.Ea=-1;this.h=this.f=this.pc=this.K=this.O=this.g=this.Mb=0;Pb(this);ed(this);this.j.error=!1;bd.prototype.reset.call(this)};function Pb(a){a.J=0;a.Nb=0;a.Ob=0;a.ta=0;a.F=0;a.$a=0;a.Oa=255;a.jb=0;a.Xa=0;a.Ya=0;a.kb=262143;a.Ka=a.b[7];a.C=0;a.I=null;a.v&&(rd(a),a.od=sc(a.v))}
function rd(a){a.ic=a.xc;a.jc=a.yc;a.Ac=a.Cc;a.kc=a.Dc;a.jb?(a.Aa=65536,a.hc=a.ta&16?4186112:253952,a.ra=a.Jd,a.W=a.Od,a.yb=a.Rd,kc(a.v,a.ta&16?22:18)):(a.Aa=0,a.hc=57344,a.ra=a.We,a.W=a.qg,a.yb=a.Kh,kc(a.v,16))}function Ec(a){var b=a.J;b&57344||(b=b&-3199|a.Xa<<5|a.Ya<<1);return b}function Fc(a,b){b&=-3073;if(a.J!=b){b&57344&&!(a.J&57344)&&(a.Nb=a.C>>16&65535,a.Ob=a.C&65535);a.J=b;a.Xa=(b&96)>>5;a.Ya=(b&30)>>1;var c=0;b&257&&(c=4,b&1&&(c|=2));a.jb!=c&&(a.jb=c,rd(a))}}
function Gc(a){a.J&57344||(a.Nb=a.C>>16&65535);a=a.Nb;a&65280&&(a=(a<<8|a>>8)&65535);return a}function Hc(a){a.J&57344||(a.Ob=a.C&65535);return a.Ob}function Ic(a,b){1170>a.sa&&(b&=-49);a.ta!=b&&(a.ta=b,a.kb=b&16?4194303:262143,rd(a))}function sd(a,b,c,d){a.lc=b;F(a,b);Kc(a,0);a.v.reset();Pb(a);if(c){a.b[0]=d||0;for(b=1;5>=b;b++)a.b[b]=0;a.b[6]=1024;a.j.S?a.j.N||Rb(a):a.j.Y=!0}else a.D&&a.j.S?G(a)||a.A.j.reset||(a.D.g(),Vb(a.A,-1)):!1===c&&G(a);!a.j.N&&a.pa&&a.pa.stop()}h.Id=function(){return 0};
h.save=function(){var a=new E(this);a.set(0,[this.b,this.ua,this.ga,this.H,this.s,this.Pa,this.Pb,this.F,this.Mb,this.$a,this.Oa,this.Xa,this.Ya,this.Ka,this.g,this.C,this.Ea,this.Nc,this.Oc,this.lc]);a.set(1,[Jc(this),Ec(this),Gc(this),Hc(this),this.ta]);a.set(2,[this.Na,this.Za,this.j.Y]);a.set(3,td(this));a.set(4,md(this));return a.data()};
h.restore=function(a){var b=ia(a[0]);this.b=b.next().value;this.ua=b.next().value;this.ga=b.next().value;this.H=b.next().value;this.s=b.next().value;this.Pa=b.next().value;this.Pb=b.next().value;this.F=b.next().value;this.Mb=b.next().value;this.$a=b.next().value;this.Oa=b.next().value;this.Xa=b.next().value;this.Ya=b.next().value;this.Ka=b.next().value;this.g=b.next().value;this.C=b.next().value;this.Ea=b.next().value;this.Nc=b.next().value;this.Oc=b.next().value;this.lc=b.next().value;b=a[1];Kc(this,
b[0]);Fc(this,b[1]);this.Nb=b[2];this.Ob=b[3];Ic(this,b[4]);b=a[2];this.Na=b[0];hd(this,b[1]);this.j.Y=b[2];b=a[3];for(var c=b.length-1;0<=c;c--){var d;a:{for(d=0;d<this.Gb.length;d++){var e=this.Gb[d];if(e.Sb===b[c]){d=e;break a}}d=null}d&&(d.next=this.I,this.I=d)}a=a[4];for(b=0;b<this.X.length&&b<a.length;b++)this.X[b][0]=a[b];return!0};function ud(a){return a.u&65536?1:0}function vd(a){return a.w&32768?8:0}function wd(a,b){var c=a.b[7];a.b[7]=c+b&65535;return c}
function O(a,b,c){c&&(F(a,a.b[7]+(b<<24>>23)),a.a-=2);a.a-=3}function F(a,b){a.b[7]=b&65535}function Ac(a,b,c,d){b={Sb:b,qb:c,message:d||0,name:vb[b],next:null};a.Gb.push(b);return b}function Dc(a,b){var c=a.I;if(c==b)a.I=b.next;else for(;c;){var d=c.next;if(d==b){c.next=d.next;break}c=d}a.I&&(a.g|=1)}function yc(a,b){if(b){if(b!=a.I){var c=a.I;if(!c||c.qb<=b.qb)b.next=c,a.I=b;else{do{var d=c.next;if(!d||d.qb<=b.qb){b.next=d;c.next=b;break}c=d}while(c)}}a.g|=1}}
function td(a){var b=[];for(a=a.I;a;)b.push(a.Sb),a=a.next;return b}function xd(a){return a.g&64?(J(a,168,64,-6),!0):a.g&32?(J(a,4,32,-5),!0):a.g&16?(J(a,12,16,-7),!0):!1}function Jc(a){return a.i=a.i&63728|vd(a)|(a.m&65535?0:4)|(a.l&32768?2:0)|ud(a)}function Kc(a,b){b&=a.zd;a.w=b<<12;a.m=~b&4;a.l=b<<14;a.u=b<<16;if((b^a.i)&a.wd)for(var c=a.ua.length;0<=--c;){var d=a.b[c];a.b[c]=a.ua[c];a.ua[c]=d}a.B=b>>14&3;c=a.i>>14&3;a.B!=c&&(a.ga[c]=a.b[6],a.b[6]=a.ga[a.B]);a.i=b;a.g&=-3;a.g|=a.I?2:1}
h.fa=function(a){this.w=this.m=a;this.l=0};h.Sa=function(a,b){this.w=this.m=this.u=a;this.l=b||0};function yd(a,b){a.w=a.m=a.u=b;a.l=a.w^a.u>>1}function zd(a,b,c,d){a.w=a.m=a.u=b;a.l=(c^d)&(d^b)}
function J(a,b,c,d){if(!a.nb){0>a.Ea?a.Ea=Jc(a):a.B||(d=-4);-4==d&&(a.g&256&&(d=-1),a.g|=256,a.F|=4,a.b[6]=b=4);if(-1!=d){a.C=b|4143316992;a.B=0;var e=a.W(b|a.Aa),f=a.W(b+2&65535|a.Aa);Kc(a,f&-12289|a.Ea>>2&12288);Ad(a,a.Ea);Ad(a,a.b[7]);F(a,e)}a.a-=5;a.g&=~(c|19);a.g|=129;a.Ea=-1;a.Nc=d;a.Oc=b;-1==d&&G(a);if(-4<=d)throw b;}}function Bd(a){var b=Cd(a),c=Cd(a);a.i&49152&&(c=c&-225|a.i&63712);F(a,b);Kc(a,c);a.g&=-17}
function Dd(a,b){var c=b>>13&31;31>c&&(b=a.ta&32?a.Pa[c]+(b&8191)&4194303:b&-3932161);return b}
function Yb(a,b,c){if(!(c&a.jb)){var d=b&65535;57344<=d&&(d|=a.hc);return d}var e=b>>13;a.ta&a.Je[a.B]||(e&=7);var f=a.s[a.B][e];d=(a.H[a.B][e]<<6)+(b&8191)&a.kb;3932160<=d&&(d=Dd(a,d));if(a.nb)return d;d>=a.od&&d<a.hc?(a.F|=32,J(a,4,0,d)):d&1&&!(c&1)&&(a.F|=64,J(a,4,0,d));var g=0;switch(f&7){case 1:g=4096;case 2:f|=128;c&4&&(g=8192);break;case 4:g=4096;case 5:c&4&&(g=4096);case 6:f|=c&4?192:128;break;default:g=32768}32512!=(f&32520)&&(f&8?f&32512&&(b&8128)<(f>>2&8128)&&(g|=16384):(b&8128)>(f>>2&
8128)&&(g|=16384));a.s[a.B][e]=f;if(d!=(4194170&a.kb)||a.B)a.Xa=a.B,a.Ya=e;g&&(g&57344&&(0<=a.Ea&&(g|=128),a.J&57344||(g|=a.J&4096|a.Xa<<5|a.Ya<<1,Fc(a,a.J&-61695|g&61694)),J(a,168,64,-2)),a.J&61440||!(d<(4191360&a.kb)||d>(4194239&a.kb))||(a.J|=4096,a.J&512&&(a.g|=64)));return d}function Cd(a){var b=a.W(a.b[6]|a.Aa);a.b[6]=a.b[6]+2&65535;return b}function Ad(a,b){var c=a.b[6]-2&65535;a.b[6]=c;a.C=a.C&65535|(a.C&-65536)<<8|16121856;a.g&256||a.hb(4,-2,c);a.yb(c,b)}
function Ed(a,b,c,d){var e=d&8?0:a.Aa;switch(b){case 0:return J(a,4,0,-3),0;case 1:return 6==c&&a.hb(d,0,a.b[6]),a.a-=3,7==c?a.b[c]:a.b[c]|e;case 2:var f=2;var g=a.b[c];6==c&&a.hb(d,f,g);7!=c&&(g|=e,6>c&&d&1&&(f=1));a.a-=3;break;case 3:f=2;g=a.b[c];7!=c&&(g|=e);g=a.W(g);g|=e;a.a-=7;break;case 4:f=-2;6>c&&d&1&&(f=-1);g=a.b[c]+f&65535;6==c&&a.hb(d,f,g);7!=c&&(g|=e);a.a-=4;break;case 5:f=-2;g=a.b[c]-2&65535;7!=c&&(g|=e);g=a.W(g)|e;a.a-=8;break;case 6:return g=a.W(wd(a,2)),g=g+a.b[c]&65535,6==c&&a.hb(d,
0,g),a.a-=6,g|e;case 7:return g=a.W(wd(a,2)),g=g+a.b[c]&65535,g=a.W(g|a.Aa),a.a-=10,g|e}a.b[c]=a.b[c]+f&65535;a.C=a.C&65535|(a.C&-65536)<<8|(f<<3&248|c)<<16;return g}h.Re=function(a,b,c){!this.B&&0>=b&&c<=this.Oa&&(this.g|=32)};h.Se=function(a,b,c){this.B||(65534<=c&&(c|=-65536),a&4&&c<=this.Oa&&(c<=this.Oa-32?J(this,4,0,-4):(this.F|=8,this.g|=32)))};h.Ve=function(a){return this.xc(a)};h.Xe=function(a){return this.yc(a)};h.zg=function(a,b){this.Cc(a,b)};h.Cg=function(a,b){this.Dc(a,b)};
h.We=function(a,b,c){return Ed(this,a,b,c)};h.Jd=function(a,b,c){return Yb(this,Ed(this,a,b,c),c)};h.qg=function(a){return this.v.Vb(this.Ka=a)};h.Od=function(a){return this.v.Vb(this.Ka=Yb(this,a,2))};h.Kh=function(a,b){this.v.Wb(this.Ka=a,b)};h.Rd=function(a,b){this.v.Wb(this.Ka=Yb(this,a,4),b)};
function Fd(a,b,c){var d=a.f=b&7;(b=a.h=(b&56)>>3)?(d=Ed(a,b,d,2),c&65536||61440!==(a.i&61440)&&(d&=65535),a.B=a.i>>12&3,c=a.W(d|c&a.Aa),a.B=a.i>>14&3):c=6!=d||(a.i>>2&12288)===(a.i&12288)?a.b[d]:a.ga[a.i>>12&3];return c}function Gd(a,b,c,d){a.C=a.C&65535|1441792;var e=a.f=b&7;(b=a.h=(b&56)>>3)?(e=Ed(a,b,e,4),c&65536||(e&=65535),a.B=a.i>>12&3,e=Yb(a,e|c&65536,4),a.B=a.i>>14&3,a.kc(e,d)):6!=e||(a.i>>2&12288)===(a.i&12288)?a.b[e]=d:a.ga[a.i>>12&3]=d}
function Hd(a,b){b>>=6;var c=a.O=b&7;return(b=a.K=(b&56)>>3)?a.ic(a.ra(b,c,3)):a.b[c+a.wc]&a.sd}function Id(a,b){var c;b>>=6;var d=a.O=b&7;(b=a.K=(b&56)>>3)?c=a.jc(a.ra(b,d,2)):c=a.b[d+a.wc];return c}function Jd(a,b){var c=a.f=b&7;b=a.h=(b&56)>>3;return Ed(a,b,c,8)}function Kd(a,b){var c=a.f=b&7;return(b=a.h=(b&56)>>3)?a.ic(a.ra(b,c,3)):a.b[c]&255}function Ld(a,b){var c,d=a.f=b&7;(b=a.h=(b&56)>>3)?c=a.jc(a.ra(b,d,2)):c=a.b[d];return c}
function P(a,b,c,d){var e=a.f=b&7;(b=a.h=(b&56)>>3)?(e=a.pc=a.ra(b,e,7),c=0>c?a.b[-c-1]&255:c,a.Ac(e,d.call(a,c,a.ic(e))),e&1&&a.a--):(b=a.b[e],c=0>c?a.b[-c-1]&255:c,a.b[e]=b&65280|d.call(a,c,b&255))}function Q(a,b,c,d){var e=a.f=b&7;(b=a.h=(b&56)>>3)?(e=a.ra(b,e,6),a.kc(e,d.call(a,0>c?a.b[-c-1]:c,a.jc(e)))):a.b[e]=d.call(a,0>c?a.b[-c-1]:c,a.b[e])}
function Md(a,b,c,d,e){var f=a.f=b&7;(b=a.h=(b&56)>>3)?(d=a.ra(b,f,5),e.call(a,(c=0>c?a.b[-c-1]&255:c)<<8),a.Ac(d,c),d&1&&a.a--):(c?(c=0>c?a.b[-c-1]&255:c,a.b[f]=a.b[f]&~d|c<<24>>24&d):a.b[f]&=~d,e.call(a,c<<8))}function Nd(a,b,c,d){var e=a.f=b&7;(b=a.h=(b&56)>>3)?(e=a.ra(b,e,4),d.call(a,c=0>c?a.b[-c-1]:c),a.kc(e,c)):(a.b[e]=c=0>c?a.b[-c-1]:c,d.call(a,c))}
h.zc=function(a){this.j.complete=!0;var b=a?this.j.dd?0:1:-1;this.j.dd=!1;this.Ma=this.a=a;this.g=this.g&-5|0;do{if(this.g){if(a=this.g&11)if(a=!1,this.g&2){var c=160,d=(this.$a&224)>>5,e=this.I&&this.I.qb>d?this.I:null;e&&(c=e.Sb,d=e.qb);d>(this.i&224)>>5?(this.g&8&&(wd(this,2),this.g&=-9),J(this,c,0,-10),d=!0):d=!1;d&&(e&&Dc(this,e),a=!0);this.I||this.$a||(this.g&=-3)}else this.g&1&&this.g++;if(a){if(this.g&4&&this.D.b(this.b[7],b)){G(this);break}if(0>b)break}if(this.g&112&&xd(this)){if(this.g&
4&&this.D.b(this.b[7],b)){G(this);break}if(0>b)break}}this.g=this.g&15|this.i&16;a=this.C=this.b[7];e=this.W(a);this.b[7]=a+2&65535;this.vd(e)}while(0<this.a);return this.j.complete?this.Ma-this.a:!1===this.j.complete?-1:0};Sa(function(){for(var a=z(document,y,"cpu"),b=0;b<a.length;b++){var c=a[b],d=A(c);d=new od(d);x(d,c)}});function Od(a,b){var c=b+a;this.w=this.m=this.u=c;this.l=(a^c)&(b^c);return c&65535}
function Pd(a,b){var c=b+a,d=c<<8;this.w=this.m=this.u=d;this.l=(a<<8^d)&(b<<8^d);return c&255}function Qd(a,b){a=b<<1;yd(this,a);return a&65535}function Rd(a,b){a=b<<1;yd(this,a<<8);return a&255}function Sd(a,b){a=b&32768|b>>1|b<<16;yd(this,a);return a&65535}function Td(a,b){a=b&128|b>>1|b<<8;yd(this,a<<8);return a&255}function Ud(a,b){a=b&~a;this.fa(a);return a}function Vd(a,b){a=b&~a;this.fa(a<<8);return a}function Wd(a,b){a|=b;this.fa(a);return a}function Xd(a,b){a|=b;this.fa(a<<8);return a}
function Yd(a,b){a=~b|65536;this.Sa(a);return a&65535}function Zd(a,b){a=~b|256;this.Sa(a<<8);return a&255}function $d(a,b){this.w=this.m=a=b-a;this.l=b&(b^a);return a&65535}function ae(a,b){a=b-a;var c=a<<8;b<<=8;this.w=this.m=c;this.l=b&(b^c);return a&255}function be(a,b){this.w=this.m=a=b+a;this.l=a&(b^a);return a&65535}function ce(a,b){a=b+a;var c=a<<8;this.w=this.m=c;this.l=c&(b<<8^c);return a&255}function de(a,b){a=-b;this.Sa(a,a&b&32768);return a&65535}
function ee(a,b){a=-b;this.Sa(a<<8,(a&b&128)<<8);return a&255}function fe(a,b){a=b<<1|this.u>>16&1;yd(this,a);return a&65535}function ge(a,b){a=b<<1|this.u>>16&1;yd(this,a<<8);return a&255}function he(a,b){a=(this.u&65536|b)>>1|b<<16;yd(this,a);return a&65535}function ie(a,b){a=((this.u&65536)>>8|b)>>1|b<<8;yd(this,a<<8);return a&255}function je(a,b){var c=b-a;zd(this,c,a,b);return c&65535}function ke(a,b){var c=b-a;zd(this,c<<8,a<<8,b<<8);return c&255}
function le(a,b){this.w=this.m=b&65280;this.l=this.u=0;return(b<<8|b>>8)&65535}function me(a,b){a^=b;this.fa(a);return a&65535}function ne(a){Q(this,a,Id(this,a),Od);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}
function oe(a){var b=Ld(this,a);a=a>>6&7;var c=this.b[a];c&32768&&(c|=4294901760);this.u=this.l=0;b&=63;if(b&32)b=64-b,16<b&&(b=16),this.u=c<<17-b,c>>=b;else if(b)if(16<b)this.l=c,c=0;else{this.u=c<<=b;var d=c>>15&65535;d&&65535!==d&&(this.l=32768)}this.b[a]=c&65535;this.w=this.m=c;this.a-=(this.h?6:7)+b}
function pe(a){var b=Ld(this,a),c=a>>6&7,d=this.b[c]<<16|this.b[c|1];this.u=this.l=0;b&=63;b&32?(b=64-b,32<b&&(b=32),a=d>>b-1,this.u=a<<16,a>>=1,d&2147483648&&(a|=4294967295<<32-b)):b?(a=d<<b-1,this.u=a>>15,a<<=1,32<b&&(b=32),(d>>=32-b)&&4294967295!==(d|4294967295<<b&4294967295)&&(this.l=32768)):a=d;this.b[c]=a>>16&65535;this.b[c|1]=a&65535;this.w=a>>16;this.m=a>>16|a;this.a-=(this.h?6:7)+b}function qe(a){O(this,a,!ud(this))}function re(a){O(this,a,ud(this))}
function se(a){Q(this,a,Id(this,a),Ud);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}function te(a){P(this,a,Hd(this,a),Vd);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}function ue(a){Q(this,a,Id(this,a),Wd);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}function ve(a){P(this,a,Hd(this,a),Xd);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}
function we(a){var b=Id(this,a);a=Ld(this,a);this.fa((0>b?this.b[-b-1]:b)&a);this.a-=this.h?4+(this.O&&6<=this.f?1:0):(this.K?4:3)+(7==this.f?2:0)}function xe(a){var b=Hd(this,a);a=Kd(this,a);this.fa(((0>b?this.b[-b-1]&255:b)&a)<<8);this.a-=this.h?4+(this.O&&6<=this.f?1:0):(this.K?4:3)+(7==this.f?2:0)}function ye(a){O(this,a,this.m&65535?0:4)}function ze(a){O(this,a,!vd(this)==!(this.l&32768))}function Ae(a){O(this,a,!!(this.m&65535)&&!vd(this)==!(this.l&32768))}
function Be(a){O(this,a,!ud(this)&&!!(this.m&65535))}function Ce(a){O(this,a,(this.m&65535?0:4)||!vd(this)!=!(this.l&32768))}function De(a){O(this,a,ud(this)||(this.m&65535?0:4))}function Ee(a){O(this,a,!vd(this)!=!(this.l&32768))}function Fe(a){O(this,a,vd(this))}function Ge(a){O(this,a,!!(this.m&65535))}function He(a){O(this,a,!vd(this))}function Ie(){J(this,12,0,-9)}function Je(a){O(this,a,!0)}function Ke(a){O(this,a,!(this.l&32768))}function Le(a){O(this,a,this.l&32768?2:0)}
function Me(a){a&1&&(this.u=0);a&2&&(this.l=0);a&4&&(this.m=1);a&8&&(this.w=0);this.a-=5}function Ne(a){var b=Id(this,a);a=Ld(this,a);var c=(b=0>b?this.b[-b-1]:b)-a;zd(this,c,a,b);this.a-=this.h?4+(this.O&&6<=this.f?1:0):(this.K?4:3)+(7==this.f?2:0)}function Oe(a){var b=Hd(this,a);a=Kd(this,a);var c=(b=(0>b?this.b[-b-1]&255:b)<<8)-(a<<=8);zd(this,c,a,b);this.a-=this.h?4+(this.O&&6<=this.f?1:0):(this.K?4:3)+(7==this.f?2:0)}
function Pe(a){var b=Ld(this,a);if(b){a=a>>6&7;var c=this.b[a]<<16|this.b[a|1];this.u=this.l=0;b&32768&&(b|=-65536);var d=~~(c/b);-32768<=d&&32767>=d?(this.b[a]=d&65535,this.b[a|1]=c-d*b&65535,this.m=d>>16|d,this.w=d>>16):(this.l=32768,this.m=d>>15|d,this.w=c>>16,-1===b&&65534===this.b[a]&&(this.b[a]=this.b[a|1]=1));this.a-=53}else this.m=this.w=0,this.l=32768,this.u=65536,this.a-=7}function Qe(){J(this,24,0,-9);this.a-=20}
function Re(){this.i&49152?(this.F|=128,J(this,4,0,-8)):(this.pa&&1120==this.sa&&this.pa.setData(this.b[0],!0),this.D?this.D.i():G(this));this.a-=7}function Se(){J(this,16,0,-9);this.a-=20}var Te=[0,7,7,10,7,11,9,13];function Ue(a){this.ba=this.a;F(this,Jd(this,a));this.a=this.ba-Te[this.h]}var Ve=[0,14,14,17,14,18,16,20];function We(a){this.ba=this.a;var b=Jd(this,a);a=a>>6&7;Ad(this,this.b[a]);this.b[a]=this.b[7];F(this,b);this.a=this.ba-Ve[this.h]}
var Xe=[3,9,9,13,10,14,12,16,4,9,9,13,10,14,13,17];function Ye(a){var b=Id(this,a);this.ba=this.a;Nd(this,a,b,this.fa);this.a=this.ba-Xe[(this.K?8:0)+this.h]+(7!=this.f||this.h?0:2)}function Ze(a){var b=Hd(this,a);Md(this,a,b,65535,this.fa);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}var $e=[7,13,13,17,14,18,17,21];
function af(a){var b=Ld(this,a);a=a>>6&7;b=(b<<16>>16)*(this.b[a]<<16>>16);this.b[a]=b>>16&65535;this.b[a|1]=b&65535;b|=0;this.w=b>>16;this.m=this.w|b;this.l=0;this.u=-32768>b||32767<b?65536:0;this.a-=23}function bf(){this.a-=5}function cf(){this.i&49152||(this.v.reset(),Pb(this),this.pa&&this.pa.setData(this.b[0],!0));this.a-=667}function df(a){if(a&8)J(this,8,0,-9);else{var b=Cd(this);a&=7;7==a?F(this,b):(F(this,this.b[a]),this.b[a]=b);this.a-=9}}function ef(){Bd(this);this.a-=13}
function ff(a){a&1&&(this.u=65536);a&2&&(this.l=32768);a&4&&(this.m=0);a&8&&(this.w=32768);this.a-=5}function gf(a){var b=(a&448)>>6;if(this.b[b]=this.b[b]-1&65535)F(this,this.b[7]-((a&63)<<1)),this.a+=1;this.a-=6}function hf(a){Q(this,a,Id(this,a),je);this.a-=this.h?9+(this.O&&6<=this.f?1:0):(this.K?5:3)+(7==this.f?2:0)}function jf(a){Q(this,a,0,le);this.a-=this.h?9:3+(7==this.f?2:0)}function kf(){J(this,28,0,-9)}
function lf(){this.pa&&(this.pa.U=this.b[7],this.pa.setData(this.b[0],!0));this.g|=8;wd(this,-2);this.a-=3}function mf(a){Q(this,a,this.b[(a>>6&7)+this.wc],me);this.a-=this.h?9:3+(7==this.f?2:0)}function R(){J(this,8,0,-9)}function pd(a){nf[a>>12].call(this,a)}function of(a){pf[a>>6&3].call(this,a)}function qf(a){rf[a>>6&3].call(this,a)}function sf(a){tf[a>>6&3].call(this,a)}function uf(a){vf[a&15].call(this,a)}function wf(a){xf[a&15].call(this,a)}function yf(a){zf[a>>6&3].call(this,a)}
function Af(a){Bf[a>>6&3].call(this,a)}function Cf(a){Df[a>>6&3].call(this,a)}
var nf=[function(a){Ef[a>>8&15].call(this,a)},Ye,Ne,we,se,ue,ne,R,function(a){Ff[a>>8&15].call(this,a)},Ze,Oe,xe,te,ve,hf,R],Ef=[function(a){Gf[a>>4&15].call(this,a)},Je,Ge,ye,ze,Ee,Ae,Ce,We,We,of,qf,sf,R,R,R],pf=[function(a){Nd(this,a,0,this.Sa);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,0,Yd);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,1,be);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,1,$d);this.a-=this.h?9:3+(7==this.f?2:0)}],rf=[function(a){Q(this,a,0,de);
this.a-=this.h?11:6},function(a){Q(this,a,ud(this)?1:0,Od);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,ud(this)?1:0,je);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){a=Ld(this,a);this.Sa(a);this.a-=this.h?4:3+(7==this.f?2:0)}],tf=[function(a){Q(this,a,0,he);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,0,fe);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,0,Sd);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){Q(this,a,0,Qd);this.a-=this.h?9:3+(7==this.f?2:0)}],Gf=
[function(a){Hf[a&15].call(this,a)},R,R,R,Ue,Ue,Ue,Ue,df,R,uf,wf,jf,jf,jf,jf],Hf=[Re,lf,ef,Ie,Se,cf,R,R,R,R,R,R,R,R,R,R],vf=[bf,function(){this.u=0;this.a-=5},function(){this.l=0;this.a-=5},Me,function(){this.m=1;this.a-=5},Me,Me,Me,function(){this.w=0;this.a-=5},Me,Me,Me,Me,Me,Me,Me],xf=[bf,function(){this.u=65536;this.a-=5},function(){this.l=32768;this.a-=5},ff,function(){this.m=0;this.a-=5},ff,ff,ff,function(){this.w=32768;this.a-=5},ff,ff,ff,ff,ff,ff,ff],Ff=[He,Fe,Be,De,Ke,Le,qe,re,Qe,kf,yf,Af,
Cf,R,R,R],zf=[function(a){Md(this,a,0,255,this.Sa);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){P(this,a,0,Zd);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){P(this,a,1,ce);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){P(this,a,1,ae);this.a-=this.h?9:3+(7==this.f?2:0)}],Bf=[function(a){P(this,a,0,ee);this.a-=this.h?11:6},function(a){P(this,a,ud(this)?1:0,Pd);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){P(this,a,ud(this)?1:0,ke);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){a=Kd(this,a);
this.Sa(a<<8);this.a-=this.h?4:3+(7==this.f?2:0)}],Df=[function(a){P(this,a,0,ie);this.a-=this.h?9+(this.pc&1):3+(7==this.f?2:0)},function(a){P(this,a,0,ge);this.a-=this.h?9:3+(7==this.f?2:0)},function(a){P(this,a,0,Td);this.a-=this.h?9+(this.pc&1):3+(7==this.f?2:0)},function(a){P(this,a,0,Rd);this.a-=this.h?9:3+(7==this.f?2:0)}];function qd(a){If[a>>12].call(this,a)}
var If=[function(a){Jf[a>>8&15].call(this,a)},Ye,Ne,we,se,ue,ne,function(a){Kf[a>>8&15].call(this,a)},function(a){Lf[a>>8&15].call(this,a)},Ze,Oe,xe,te,ve,hf,R],Jf=[function(a){Mf[a>>4&15].call(this,a)},Je,Ge,ye,ze,Ee,Ae,Ce,We,We,of,qf,sf,function(a){Nf[a>>6&3].call(this,a)},R,R],Nf=[function(a){a=this.b[7]+((a&63)<<1)&65535;var b=this.W(a|this.Aa);F(this,this.b[5]);this.b[6]=a+2&65535;this.b[5]=b;this.a-=8},function(a){a=Fd(this,a,0);this.fa(a);Ad(this,a);this.a-=11},function(a){var b=Cd(this);this.ba=
this.a;this.fa(b);Gd(this,a,0,b);this.a=this.ba-$e[this.h]},function(a){Nd(this,a,vd(this)?65535:0,this.fa);this.a-=this.h?9:3+(7==this.f?2:0)}],Mf=[function(a){Of[a&15].call(this,a)},R,R,R,Ue,Ue,Ue,Ue,df,function(a){!(a&8)||1145>this.sa?J(this,8,0,-9):(this.i&49152||(this.i=this.i&-225|(a&7)<<5,this.g|=1,this.g&=-3),this.a-=5)},uf,wf,jf,jf,jf,jf],Of=[Re,lf,function(){Bd(this);this.g|=this.i&16;this.a-=13},Ie,Se,cf,ef,function(){J(this,8,0,-9)},R,R,R,R,R,R,R,R],Kf=[af,af,Pe,Pe,oe,oe,pe,pe,mf,mf,R,
R,R,R,gf,gf],Lf=[He,Fe,Be,De,Ke,Le,qe,re,Qe,kf,yf,Af,Cf,function(a){1145>this.sa?J(this,8,0,-9):Pf[a>>6&3].call(this,a)},R,R],Pf=[function(){J(this,8,0,-9)},function(a){a=Fd(this,a,65536);this.fa(a);Ad(this,a);this.a-=11},function(a){var b=Cd(this);this.ba=this.a;this.fa(b);Gd(this,a,65536,b);this.a=this.ba-$e[this.h]},function(){J(this,8,0,-9)}];
function Qf(a){t.call(this,"ROM",a,128);this.ia=this.b=null;this.h=+a.addr;this.a=+a.size;this.i=!1;this.f=a.alias;"string"==typeof this.f&&(this.f=eval(this.f));this.g=a.file;this.l=xa(this.g);if(this.g){a=this.g;var b=ya(this.l);"json"!=b&&"hex"!=b&&(a=Ja()+"/api/v1/dump?file="+this.g+"&format=bytes&decimal=true");var c=this;Ha(a,null,!0,function(a,b,f){f?(c.G("Unable to load ROM resource (error "+f+": "+a+")"),c.g=null):(ab(c.Ua,a,b),(a=Ia(a,b))?(c.b=a.L,c.ia=a.ia):c.g=null);Rf(c)})}}p(Qf,t);
h=Qf.prototype;h.ja=function(a,b,c,d){this.v=b;this.c=c;this.D=d;Rf(this)};h.la=function(){this.ia&&(this.D&&this.D.a(this.id,this.h,this.a,this.ia),delete this.ia);return!0};h.ka=function(){return!0};
function Rf(a){if(!ob(a)){if(a.g){if(!a.b||!a.v)return;a.a||(a.a=a.b.length);if(a.b.length!=a.a){var b="ROM size ("+wa(a.b.length,8,!0)+") does not match specified size ("+wa(a.a,8,!0)+")";a.j.error=!0;a.G(b)}else{a:{b=a.h;if(57344<=b&&b<57344+cc){var c={};c=(c[b]=[Qf.prototype.ag,Qf.prototype.sh,null,null,null,a.a>>1],c);if(Bb(a.v,a,c)){a.status("Added "+a.a+"-byte ROM at "+va(b));b=a.i=!0;break a}}else if(ic(a.v,b,a.a,Pc)){for(c=0;c<a.b.length;c++)rc(a.v,b+c,a.b[c]);b=!0;break a}b=!1}if(b){b=[];
"number"==typeof a.f?b.push(a.f):null!=a.f&&a.f.length&&(b=a.f);for(c=0;c<b.length;c++){for(var d=a,e=b[c],f=d.v,g=d.a,k=[],l=d.h>>>f.h;0<g&&l<f.a.length;)k.push(f.a[l++]),g-=f.g;f=d.v;d=d.a;g=0;for(e>>>=f.h;0<d&&e<f.a.length;){l=k[g++];if(!l)break;f.a[e++]=l;d-=f.g}}a.i||delete a.b}}}B(a)}}h.ag=function(a){return this.b[a-this.h]};h.sh=function(){};Sa(function(){for(var a=z(document,y,"rom"),b=0;b<a.length;b++){var c=a[b],d=A(c);d=new Qf(d);x(d,c)}});
function Sf(a){t.call(this,"RAM",a);this.ia=this.b=null;this.f=+a.addr;this.g=+a.size;this.ea=a.load;this.da=a.exec;null!=this.ea&&(this.ea=+this.ea);null!=this.da&&(this.da=+this.da);this.h=this.l=!1;this.a=a.file;this.i=xa(this.a);if(this.a){a=this.a;var b=ya(this.i);"json"!=b&&"hex"!=b&&(a=Ja()+"/api/v1/dump?file="+this.a+"&format=bytes&decimal=true");var c=this;Ha(a,null,!0,function(a,b,f){f?(c.G("Unable to load RAM resource (error "+f+": "+a+")"),c.a=null):(ab(c.Ua,a,b),(a=Ia(a,b))?(c.b=a.L,
c.ia=a.ia,null==c.ea&&(c.ea=a.ea),null==c.da&&(c.da=a.da)):c.a=null);Tf(c)})}}p(Sf,t);Sf.prototype.ja=function(a,b,c,d){this.v=b;this.c=c;this.D=d;Tf(this)};Sf.prototype.la=function(a,b){this.ia&&(this.D&&this.D.a(this.id,this.f,this.g,this.ia),delete this.ia);b||this.reset();return!0};Sf.prototype.ka=function(){return!0};
function Tf(a){if(a.v&&(!a.h&&a.g&&(ic(a.v,a.f,a.g,tc)?a.h=!0:a.g=0),!ob(a))){if(!a.h)r("No RAM allocated");else if(a.a){if(!a.b)return;Uf(a,a.b,a.ea,a.da,a.f)?a.status('Loaded image "'+a.i+'"'):a.G('Error loading image "'+a.i+'"')}a.l=!0;B(a)}}
Sf.prototype.reset=function(){if(this.h&&!this.l){var a=this.v,b=this.f,c=this.g,d=b&a.f;for(b>>>=a.h;0<c&&b<a.a.length;){var e=a.a[b],f=d,g=c,k=0;f=f||0;k=(k||0)&255;void 0===g&&(g=e.size);if(qb&&e.a)for(d=f;g--&&d<e.a.length;d++)e.a[d]=k;else for(d=f;g--&&d<e.size;d++)e.o(f,k,e.ab+f);c-=a.g;b++;d=0}this.b&&Uf(this,this.b,this.ea,this.da,this.f,!this.D)}this.l=!1};
function Uf(a,b,c,d,e,f){var g=!1,k=!1;if(null==c)for(var l=0;l<b.length-1;){var m=b[l]&255|(b[l+1]&255)<<8;if(m)if(m&255){if(1!=m)break;if(l+6>=b.length)break;l+=2;var n=b[l++]&255|(b[l++]&255)<<8,q=b[l++]&255|(b[l++]&255)<<8;m+=(n&255)+(n>>8)+(q&255)+(q>>8);for(var v=l,u=n-=6;0<n&&l<b.length;)m+=b[l++]&255,n--;if(0!=n||l>=b.length)break;m+=b[l++]&255;if(m&255)break;if(u)for(;u--;)rc(a.v,q++,b[v++]&255);else q&1?g=!0:null==d&&(d=q);k=!0}else l++;else l+=2}if(!k&&(null==c&&(c=e),null!=c)){for(e=0;e<
b.length;e++)rc(a.v,c+e,b[e]);k=!0}if(k){if(null==d||g)G(a.c),f=!1;null!=d&&sd(a.c,d,f)}return k}Sa(function(){for(var a=z(document,y,"ram"),b=0;b<a.length;b++){var c=a[b],d=A(c);d=new Sf(d);x(d,c)}});function Vf(a){t.call(this,"Keyboard",a,1024);B(this)}p(Vf,t);Vf.prototype.ma=function(){return!1};Vf.prototype.ja=function(a,b,c,d){this.A=a;this.c=c;this.D=d};Sa(function(){for(var a=z(document,y,"keyboard"),b=0;b<a.length;b++){var c=a[b],d=A(c);d=new Vf(d);x(d,c)}});
function Wf(a){t.call(this,"SerialPort",a,1048576);this.B=+a.adapter;this.J=+a.baudReceive||9600;this.ba=+a.baudTransmit||9600;this.w=a.upperCase;"string"==typeof this.w&&(this.w="true"==this.w);this.h=this.i=null;this.O=+a.tabSize;this.K=+a.charBOL;this.l=0;this.u=!0;this.H=this.C=null;this.I=this.X=-1;this.m=this.a=this.b=0;this.g=[];var b=a.binding;if("console"==b)this.i="";else{var c;a=Xf;b&&(void 0===c&&(c="Panel"),(c=hb(c,this.id))&&(b=c.o[b])&&this.ma(null,a,b))}this.f=this.s=this.F=null;this.exports=
{connect:this.Kd,receiveData:this.mc,receiveStatus:this.vg,setConnection:this.Ag}}p(Wf,t);h=Wf.prototype;
h.ma=function(a,b,c){var d=this;switch(b){case Xf:return this.o[b]=this.h=c,c.onkeydown=function(a){a=a||window.event;var b=0,c=a.keyCode;8==c?b=a.altKey?sa.ld:sa.Ab:46==c?b=sa.ld:a.ctrlKey&&c>=sa.jd&&c<=sa.Me&&(b=c-(sa.jd-sa.Vd));b&&(a.preventDefault&&a.preventDefault(),d.mc(b));return!0},c.onkeypress=function(a){a=a||window.event;if(!a.metaKey){var b=a.which||a.keyCode;a.altKey&&b==sa.Xd&&(b=sa.Wd);d.mc(b);a.preventDefault&&a.preventDefault()}return!0},c.onpaste=function(a){a.stopPropagation&&a.stopPropagation();
a.preventDefault&&a.preventDefault();(a=a.clipboardData||window.clipboardData)&&d.mc(a.getData("Text"))},c.removeAttribute("readonly"),!0}return!1};
h.ja=function(a,b,c,d){this.A=a;this.v=b;this.c=c;this.D=d;var e=this;this.H=Ac(this.c,this.B?-1:48,4,1048576);this.I=xc(this.c,function(){var a=-1;e.g.length&&(a=e.g.shift()&255,e.w&&97<=a&&122>a&&(a-=32),zc(e.c,e.I,1E3/Math.round(e.J/10)));0<=a&&(e.m=a,e.a&128?e.m|=49152:e.a|=128,e.a&64&&yc(c,e.H))});this.C=Ac(this.c,this.B?-1:52,4,1048576);this.X=xc(this.c,function(){e.b|=128;e.b&64&&yc(c,e.C)});Bb(b,this,Yf,this.B?64832+8*(this.B-1)-65392:0);Db(b,this.reset.bind(this));B(this)};
h.Kd=function(a){if(!this.f){var b=dd(this.A,"connection");if(b){var c=b.split("->");if(2==c.length){var d=Ca(c[0]);if(d!=this.qc)return;c=Ca(c[1]);if(this.f=gb(c)){var e=this.f.exports;if(e){var f=e.connect;f&&f.call(this.f,this.u);if(this.s=e.receiveData){this.u=a;this.F=e.receiveStatus;this.status("Connected "+this.Ua+"."+d+" to "+c);return}}}}this.status("Unable to establish connection: "+b)}}};h.la=function(a,b){if(!b)if(this.Kd(this.u),!a)this.reset();else if(!this.restore(a))return!1;return!0};
h.ka=function(a){return a?this.save():!0};h.reset=function(){Zf(this)};h.save=function(){var a=new E(this);a.set(0,[this.m,this.a,this.b,this.g]);return a.data()};h.restore=function(a){return Zf(this,a[0])};function Zf(a,b){b||(b=[0,8192,128,a.g]);b=ia(b);a.m=b.next().value;a.a=b.next().value;a.b=b.next().value;a.g=b.next().value;return!0}
h.mc=function(a){if("number"==typeof a)this.g.push(a);else if("string"==typeof a)for(var b=0,c,d=0;d<a.length;d++){c=b;b=a.charCodeAt(d);if(10==b){if(13==c)continue;b=13}this.g.push(b)}else this.g=this.g.concat(a);zc(this.c,this.I,1E3/Math.round(this.J/10));return!0};h.vg=function(a){var b=this.a;this.a&=-12289;a&32&&(this.a|=8192);a&256&&(this.a|=4096);b!=this.a&&(this.a|=32768,this.a&32&&yc(this.c,this.H))};h.Ag=function(a,b){return this.f?!1:(this.f=a,this.s=b,!0)};
h.Of=function(){var a=this.a&65534;this.a&=-32769;return a};h.fh=function(a){var b=a^this.a;this.a=this.a&-112|a&111;this.F&&b&6&&(b=0,b=this.u?b|(a&4?32:0)|(a&2?320:0):b|(a&4?16:0)|(a&2?1048576:0),this.F.call(this.f,b))};h.Nf=function(){this.a&=-129;return this.m};h.eh=function(){};h.ug=function(){return this.b};h.Mh=function(a){if(this.b&128)if(a&64)yc(this.c,this.C);else{var b=this.C;b&&Dc(this.c,b)}this.b=this.b&-70|a&69};h.tg=function(){return 0};
h.Lh=function(a){a&=255;this.s&&this.s.call(this.f,a);a&=127;if(this.h)if(13==a)this.l=0;else if(8==a)this.h.value=this.h.value.slice(0,-1),0<this.l&&this.l--;else{if(a){var b;13!=a&&10!=a&&(b=Da[a]);b=b?"<"+b+">":String.fromCharCode(a);var c=b.length;32>a&&1==c&&(c=0);9==a&&(a=this.O||8,c=a-this.l%a,this.O&&(b="                                        ".slice(0,c)));this.K&&!this.l&&c&&(b=String.fromCharCode(this.K)+b);this.h.value+=b;this.h.scrollTop=this.h.scrollHeight;this.l+=c}}else if(null!=
this.i){if(10==a||1024<=this.i.length)this.aa(this.i),this.i="";10!=a&&(this.i+=String.fromCharCode(a))}zc(this.c,this.X,1E3/Math.round(this.ba/10));this.b&=-129};var Xf="buffer",$f={},Yf=($f[65392]=[null,null,Wf.prototype.Of,Wf.prototype.fh,"RCSR"],$f[65394]=[null,null,Wf.prototype.Nf,Wf.prototype.eh,"RBUF"],$f[65396]=[null,null,Wf.prototype.ug,Wf.prototype.Mh,"XCSR"],$f[65398]=[null,null,Wf.prototype.tg,Wf.prototype.Lh,"XBUF"],$f);
Sa(function(){for(var a=z(document,y,"serial"),b=0;b<a.length;b++){var c=a[b],d=A(c);d=new Wf(d);x(d,c)}});function Lc(a){t.call(this,"PC11",a,4096);this.C=ag(this,a.autoMount);this.b=0;this.K=+a.baudReceive||3600;this.m=this.a=0;this.w=32768;this.h=this.I=0;this.l=[];this.i=bg;this.f=cg;this.B=this.g="";this.L=this.ea=this.da=null;this.H=-1;this.F=!Oa("Mobi")&&window&&"FileReader"in window;this.s=null;this.J=-1;this.u=null}p(Lc,t);
function ag(a,b){if(b&&"string"==typeof b)try{b=eval("("+b+")")}catch(c){r(a.type+" auto-mount error: "+c.message+" ("+b+")"),b=null}return b||{}}h=Lc.prototype;
h.ma=function(a,b,c){var d=this,e=cg;switch(b){case "listTapes":return this.o[b]=c,c.onchange=function(){var a=d.o.descTape,b=c.options[c.selectedIndex];if(a&&b){var e={};if(b=b.getAttribute("data-value"))try{e=eval("("+b+")")}catch(l){r("PC11 option error: "+l.message)}b=e.desc;void 0===b&&(b="");e=e.href;void 0!==e&&(b='<a href="'+e+'" target="_blank">'+b+"</a>");a.innerHTML=b}},!0;case "descTape":return this.o[b]=c,!0;case "readTape":e=dg;case "loadTape":return e||(e=eg),this.o[b]=c,c.onclick=
function(){var a=d.o.listTapes;a&&fg(d,a.options[a.selectedIndex].text,a.value,e)},!0;case "mountTape":if(!this.F){c.parentNode.removeChild(c);break}this.o[b]=c;c.addEventListener("change",function(){var a=c.children[0];a.children[1].disabled=!a.children[0].files.length});c.onsubmit=function(a){if(a=a.currentTarget[1].files[0]){var b=a.name;fg(d,xa(b,!0),b,eg,a)}return!1};return!0;case gg:return this.o[b]=c,!0}return!1};
h.ja=function(a,b,c,d){this.A=a;this.v=b;this.c=c;this.D=d;this.u=hg(a);var e=this;if(a=ag(this,dd(this.A,"autoMount")))for(var f in a)"PTR"==f&&(this.C[f]=a[f]);this.s=Ac(this.c,56,4,4096);this.J=xc(this.c,function(){1!=(e.a&32769)||e.a&128||(e.h<e.l.length?(e.m=e.l[e.h]&255,e.h++,ig(e,e.h/e.l.length*100)):e.a|=32768,e.a|=128,e.a&=-2049,e.a&64&&yc(e.c,e.s))});Bb(b,this,jg);Db(b,this.reset.bind(this));kg(this,"None",bg,!0);this.F&&kg(this,"Local Tape",lg);kg(this,"Remote Tape",mg);ng(this)||B(this)};
h.la=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};h.ka=function(a){return a?this.save():!0};h.reset=function(){this.a&=-2241;this.m=0};function ng(a){a.b=0;var b=a.C.PTR;if(b){var c=b.path||"";if(!(b=b.name))a:{if((b=a.o.listTapes)&&b.options)for(var d=0;d<b.options.length;d++){var e=b.options[d];if(e.value==c){b=e.text;break a}}b=xa(c,!0)}c&&b?og(a,b,c,eg,!0):pg(a)}return!!a.b}
function fg(a,b,c,d,e){if(c)if(c==lg)a.G('Use "Choose File" and "Mount" to select and load a local tape.');else{if(c==mg){c=window.prompt("Enter the URL of a remote tape image.","")||"";if(!c)return;b=xa(c);a.status("Attempting to load "+c+' as "'+b+'"');a.i=mg}else a.i=c;og(a,b,c,d,!1,e)}else qg(a,!1)}function og(a,b,c,d,e,f){var g=-1;if(a.g.toLowerCase()!=c.toLowerCase()||a.f!=d)g++,qg(a,!0),a.j.Ra?a.G("PC11 busy"):(e&&a.b++,rg(a,b,c,d,f)?g++:a.j.Ra=!0);g&&sg(a,a.B,a.g,a.f,a.L,a.ea,a.da)}
function rg(a,b,c,d,e){var f=c;if(e){var g=new FileReader;g.onload=function(){var e=g.result;e&&(e=new Uint8Array(e,0,e.byteLength),sg(a,b,c,d,e),a.i=lg);a.j.Ra=!1;pg(a)};g.readAsArrayBuffer(e);return!1}0>c.indexOf("/api/v1/dump")&&(e=ya(c),f="json"==e||"gz"==e?encodeURI(c):Ja()+"/api/v1/dump?path="+encodeURIComponent(c)+"&format=json");return!!Ha(f,null,!0,function(e,f,g){var k=0>g&&!!a.A&&!a.A.j.S;g?a.G('Unable to load tape "'+b+'" (error '+g+": "+e+")",k):(ab(a.Ua,e,f),(e=Ia(e,f))&&sg(a,b,c,d,
e.L,e.ea,e.da));a.j.Ra=!1;a.b&&(a.b--,a.b||B(a));pg(a)})}function kg(a,b,c,d){if((a=a.o.listTapes)&&a.options){for(var e=0;e<a.options.length;e++)if(a.options[e].value==c)return;e=document.createElement("option");e.text=b;e.value=c;d&&a.childNodes[0]?a.insertBefore(e,a.childNodes[0]):a.appendChild(e)}}
function pg(a){var b=a.o.listTapes;if(b&&b.options){a=a.i||a.g;for(var c=0;c<b.options.length;c++)if(b.options[c].value==a){b.selectedIndex!=c&&(b.selectedIndex=c);break}c==b.options.length&&(b.selectedIndex=0)}}function ig(a,b){b|=0;if(b!==a.H){var c=a.o[gg];c&&(c=(c=z(c,tg))&&c[0])&&c.style&&(c.style.width=b+"%");a.H=b}}
function sg(a,b,c,d,e,f,g){a.B=b;a.g=c;a.f=d;a.L=e;a.ea=f;a.da=g;d==dg?a.u&&Uf(a.u,e,f,g,null,!1)?a.status('Read tape "'+b+'"'):a.G('No valid memory address for tape "'+b+'"'):(a.h=0,a.l=e,a.a&=-32769,a.status('Loaded tape "'+b+'" ('+e.length+" bytes)"),ig(a,0))}function qg(a,b){if(a.g||!1===b)a.B="",a.g="",b||(a.f&&a.status(a.f==eg?"tape detached":"tape unloaded"),a.i=bg,a.f=cg,pg(a))}h.save=function(){return(new E(this)).data()};h.restore=function(){return!0};h.Hf=function(){return this.a&65534};
h.Yg=function(a){a&1&&(this.a&32768?(a&=-2,this.a&64&&yc(this.c,this.s)):(this.a&=-129,this.a|=2048,this.m=0,zc(this.c,this.J,1E3/Math.round(this.K/10))));this.a=this.a&-66|a&65};h.Gf=function(){this.a&=-129;this.a|=2048;return this.m};h.Xg=function(){};h.Ff=function(){return this.w};h.Wg=function(a){this.w=this.w&-65|a&64};h.Ef=function(){return this.I};h.Vg=function(a){this.I=a&255};
var bg="",lg="?",mg="??",cg=0,eg=1,dg=2,gg="readProgress",tg="pcjs-progress-bar",ug={},jg=(ug[65384]=[null,null,Lc.prototype.Hf,Lc.prototype.Yg,"PRS"],ug[65386]=[null,null,Lc.prototype.Gf,Lc.prototype.Xg,"PRB"],ug[65388]=[null,null,Lc.prototype.Ff,Lc.prototype.Wg,"PPS"],ug[65390]=[null,null,Lc.prototype.Ef,Lc.prototype.Vg,"PPB"],ug);
function vg(a,b,c){t.call(this,"Disk",{id:a.Ua+".disk"+wa(++wg,4)},8192);this.controller=a;this.A=a.A;this.D=a.D;this.h=b;this.xa=b.name;this.oa=this.cd="";this.Zc=b.Zc;this.M=this.T=this.R=this.Z=this.mode=0;this.a=[];this.f=null;this.g=!1;this.create(c,b.M,b.T,b.R,b.Z);this.b=this.i=null;B(this)}p(vg,t);h=vg.prototype;h.ja=function(a,b,c,d){this.D=d};
h.create=function(a,b,c,d,e){this.mode=a;this.M=b;this.T=c;this.R=d;this.Z=e;this.a=[];if("preload"!=this.mode){a=Array(this.M);for(b=0;b<a.length;b++){c=Array(this.T);for(d=0;d<c.length;d++){e=Array(this.R);for(var f=1;f<=e.length;f++)e[f-1]=xg(null,b,d,f,this.Z,0);c[d]=e}a[b]=c}this.a=a}this.f=null};
function yg(a,b,c,d,e){var f=c;if(a.b)return!0;a.xa=b;a.oa=c;a.cd=xa(c);a.b=e;a.i=a.controller;if(d){var g=new FileReader;g.onload=function(){var b=g.result,c=b?b.byteLength:0,d=ra[c];if(d){a.M=d[0];a.T=d[1];a.R=d[2];a.Z=d[3]||512;var e=a.Z>>2;var f=d=0;b=new DataView(b,0,c);a.a=Array(a.M);for(c=0;c<a.a.length;c++)for(var v=a.a[c]=Array(a.T),u=0;u<v.length;u++)for(var oa=v[u]=Array(a.R),Ua=0;Ua<oa.length;Ua++){for(var Cc=xg(null,c,u,Ua+1,a.Z,0),xh=Cc.data,Tc=0;Tc<e;Tc++,f+=4){var yh=xh[Tc]=b.getInt32(f,
!0);d=d+yh&-1}Cc.na=e;oa[Ua]=Cc}a.f=d;e=a}else a.G("Unrecognized disk format ("+c+" bytes)");a.b&&(a.b.call(a.controller,a.h,e,a.xa,a.oa),a.b=null)};g.readAsArrayBuffer(d);return!0}0>c.indexOf("/api/v1/dump")&&(b=ya(c),"json"==b||"gz"==b?f=encodeURI(c):(d="path",e="&mbhd=10",!c.indexOf("http:")||!c.indexOf("ftp:")||0<="dsk ima img 360 720 12 144".split(" ").indexOf(b)?(d="disk",e="&mbhd=0"):za(c,"/")&&(d="dir"),f=Ja()+"/api/v1/dump?"+d+"="+encodeURIComponent(c)+(a.Zc?"":e)+"&format=json"));return!!Ha(f,
null,!0,function(b,c,d){zg(a,b,c,d)})}
function zg(a,b,c,d){var e=null,f=0>d&&!!a.A&&!a.A.j.S;a.g=!1;if(d)a.controller.G('Unable to load disk "'+a.xa+'" (error '+d+": "+b+")",f);else{ab(a.controller.Ua,b,c);try{if(0<xa(a.cd,!0).toLowerCase().indexOf("-readonly"))a.g=!0;else{var g=c.indexOf("\n");0<g&&1024>g&&0<c.substring(0,g).indexOf("write-protected")&&(a.g=!0)}var k;"<"==c.substr(0,1)?k=["Missing disk image: "+a.xa]:k=0>c.indexOf("0x")&&'["'!=c.substr(0,2)?JSON.parse(c.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+
c+")");if(k.length)if(1==k.length)r(k[0]);else{a.M=k.length;a.T=k[0].length;a.R=k[0][0].length;var l=k[0][0][0];a.Z=l&&l.length||512;for(d=c=0;d<a.M;d++)for(f=0;f<a.T;f++)for(g=0;g<a.R;g++)if(l=k[d][f][g]){var m=l.length;void 0===m&&(m=l.length=512);m>>=2;var n=l.pattern;void 0===n&&(n=l.pattern=0);var q=l.data;if(void 0===q){var v=l.bytes;if(void 0!==v&&v.length){for(var u=m<<2,oa=v.length;oa<u;oa++)v[oa]=n;Ag(l,v)}else q=[],n=l.pattern=n|n<<8|n<<16|n<<24,l.data=q;delete l.bytes}xg(l,d,f);for(u=
0;u<q.length;u++)c=c+q[u]&-1}a.a=k;a.f=c;e=a}else r("Empty disk image: "+a.xa)}catch(Ua){r("Disk image error ("+b+"): "+Ua.message)}}a.b&&(a.b.call(a.i,a.h,e,a.xa,a.oa),a.b=null)}function xg(a,b,c,d,e,f){a||(a={sector:d,length:e,data:[],pattern:f});a.Pj=b;a.Qj=c;a.wa=a.na=0;a.Ha=!1;return a}
h.seek=function(a,b,c,d,e){d=null;var f=this.h,g=this.a[a];if(g){var k=g[b];if(!k&&f.Oe&&b<f.T)for(k=g[b]=Array(f.Pe),g=0;g<k.length;g++)k[g]=xg(null,a,b,g+1,f.Ld,0);if(k){for(g=0;g<k.length;g++)if(k[g]&&k[g].sector==c){d=k[g];break}!d&&f.Oe&&9==f.Ed&&(d=k[g]=xg(null,a,b,f.Ed,f.Ld,0))}}e&&e(d,!1);return d};function Ag(a,b){for(var c=0,d=a.length>>2,e=Array(d),f=0;f<d;f++)e[f]=b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24,c+=4;a.data=e}
h.read=function(a,b){var c=-1;if(a&&b<a.length){c=a.data;var d=b>>2;c=(d<c.length?c[d]:a.pattern)>>((b&3)<<3)&255}return c};h.write=function(a,b,c){if(this.g)return!1;if(b<a.length){if(c!=this.read(a,b,!0)){var d=a.data,e=a.pattern,f=b>>2;b=(b&3)<<3;for(var g=d.length;g<=f;g++)d[g]=e;a.na?f<a.wa?(a.na+=a.wa-f,a.wa=f):f>=a.wa+a.na&&(a.na+=f-(a.wa+a.na)+1):(a.wa=f,a.na=1);d[f]=d[f]&~(255<<b)|c<<b}return!0}return null};
function Bg(a,b){var c=a.T*a.R,d=b/c|0;return d<a.M?(b%=c,a.seek(d,b/a.R|0,b%a.R+1)):null}function Cg(a,b,c){for(var d=1,e=0,f=0;d--;){var g=a.read(b,c++);if(0>g)break;e|=g<<f;f+=8}return e}h.save=function(){var a=0,b=[];b[a++]=[this.oa,this.f,this.M,this.T,this.R,this.Z];if(!this.g)for(var c=this.a,d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)for(var f=0;f<c[d][e].length;f++){var g=c[d][e][f];if(g&&g.na){for(var k=[],l=0,m=g.wa,n=g.wa+g.na;m<n;)k[l++]=g.data[m++];b[a++]=[d,e,f,g.wa,k]}}return b};
h.restore=function(a){var b=0,c="unsupported restore format";if(a&&0<a.length){var d=0,e=a[d++];e&&2<=e.length&&(!this.a.length&&6<=e.length?this.create("local",e[2],e[3],e[4],e[5]):null!=e[1]&&null!=this.f&&e[1]!=this.f&&(c="original checksum ("+e[1]+") differs from current checksum ("+this.f+")",b=-2));for(this.a.length||(b=-1);d<a.length&&0<=b;){var f=0,g=a[d++],k=g[f++],l=g[f++],m=g[f++];if(k>=this.a.length||l>=this.a[k].length||m>=this.a[k][l].length){c="sector (CHS="+k+":"+l+":"+m+") out of range ("+
b+" changes applied)";b=-1;break}if(this.g){c="unable to modify write-protected disk";b=-1;break}e=g[f++];f=g[f++];g=e+f.length;if(k=this.a[k][l][m]){for(l=k.data.length;l<e;)k.data[l++]=k.pattern;l=0;k.wa=e;for(k.na=f.length;e<g;)k.data[e++]=f[l++];b++}}}0>b&&-2!=b&&this.controller.G("Unable to restore disk '"+this.xa+": "+c);return b};var wg=0;
function Dg(a,b,c,d,e,f){t.call(this,a,b,c);this.C=Eg(this,b.autoMount);this.B=0;this.I=d;this.J=e;this.K=f;this.H=d.Bc;this.b=Array(this.H);this.F=!Oa("Mobi")&&window&&"FileReader"in window;this.l=[];this.qa=null;this.exports={bootDisk:this.Fd,loadDisk:this.$c,selectDrive:this.yg,wait:this.Eg}}p(Dg,t);function Eg(a,b){if(b&&"string"==typeof b)try{b=eval("("+b+")")}catch(c){r(a.type+" auto-mount error: "+c.message+" ("+b+")"),b=null}return b||{}}h=Dg.prototype;
h.ma=function(a,b,c){var d=this;switch(b){case "listDisks":return this.o[b]=c,c.onchange=function(){Fg(d)},!0;case "descDisk":case "listDrives":return this.o[b]=c,c.onchange=function(){var a=ta(c.value,10);null!=a&&Gg(d,a)},!0;case "loadDisk":return this.o[b]=c,c.onclick=function(){d.$c()},!0;case "bootDisk":return this.o[b]=c,c.onclick=function(){d.Fd()},!0;case "saveDisk":if(!this.F){c.parentNode.removeChild(c);break}this.o[b]=c;c.onclick=function(){var a=d.o.listDrives;if(a&&a.options&&d.b)if(a=
d.b[ta(a.value,10)||0])if(a=a.P){for(var b="",c=0,k;k=Bg(a,c++);)for(var l=0,m=k.length;l<m;l++)b+=String.fromCharCode(Cg(a,k,l));b=btoa(b);a=a.cd.replace(".json",".img");c=null;b="data:application/octet-stream;base64,"+b;a&&(c=document.createElement("a"),"string"!=typeof c.download&&(c=null));c?(c.href=b,c.download=a,document.body.appendChild(c),c.click(),document.body.removeChild(c),a="Check your Downloads folder for "+a+"."):(window.open(b),a="Check your browser for a new window/tab containing the requested data"+
(a?" ("+a+")":"")+".");r(a)}else d.G("No disk loaded in drive.");else d.G("No disk drive selected.")};return!0;case "mountDisk":if(this.F)return this.o[b]=c,c.addEventListener("change",function(){var a=c.children[0];a.children[1].disabled=!a.children[0].files.length}),c.onsubmit=function(a){if(a=a.currentTarget[1].files[0]){var b=a.name;d.$c(xa(b,!0),b,a)}return!1},!0;c.parentNode.removeChild(c)}return!1};
h.ja=function(a,b,c,d){this.A=a;this.v=b;this.c=c;this.D=d;if(a=Eg(this,dd(this.A,"autoMount")))for(var e in a)e.substr(0,2)==this.type.substr(0,2)&&(this.C[e]=a[e]);this.reset();this.qa=Ac(this.c,this.I.Vc,this.I.Rc,this.pd);Bb(b,this,this.K);Db(b,this.reset.bind(this));Hg(this,"None",Ig,!0);this.F&&Hg(this,"Local Disk",Jg);Hg(this,"Remote Disk",Kg);Lg(this)||B(this)};
h.la=function(a,b){if(!b){if(!a){if(this.reset(),this.A.C){this.l=[];for(a=0;a<this.b.length;a++)Mg(this,a,!0);Lg(this,!0)}}else if(!this.restore(a))return!1;if(a=this.o.listDrives){for(;a.firstChild;)a.removeChild(a.firstChild);a.value="";for(b=0;b<this.H;b++){var c=document.createElement("option");c.value=b;c.text=this.b[b].nc||"---";a.appendChild(c)}0<this.H&&(a.value="0",Gg(this,0))}}return!0};h.ka=function(a){return a?this.save():!0};h.reset=function(){this.bb();Ng(this)};
h.save=function(){var a=new E(this);a.set(0,this.oc());a.set(1,Og(this));a.set(2,Pg(this));return a.data()};h.restore=function(a){var b=!0;this.bb(a[0])||(b=!1);var c=a[1];c&&(this.l=c);Ng(this,a[2])||(b=!1);return b};h.bb=function(){return!0};h.oc=function(){return[]};
function Ng(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c];void 0===d&&(d=a.b[c]={});var e=a,f=d;d=c;var g=a.J,k=b&&b[c],l=0;f.pb=d;f.name=e.qc;f.fc=f.ob=!1;f.Ib=null;f.Zc=!0;f.nc=g[l++]+d;f.M=g[l++];f.T=g[l++];f.R=g[l++];f.Z=g[l++];f.Ze=g[l++];f.$e=g[l++];f.af=g[l++];f.Qe=g[l++];f.status=g[l];f.Jj=0;f.Ij=0;f.Ed=1;f.Pe=f.R;f.Ld=f.Z;f.Rj=0;f.Yj=null;f.P||(f.oa="");k&&(l=k[1],g=k[2],k[0]?(f=l,k=g,g=e.b[d],Mg(e,d,!0),g.ob=!0,d=new vg(e,g,"preload"),e.Gd(g,d,f,k,!0)):Qg(e,d,l,g,!0)?f.P&&g&&Rg(e,l,g,
f.P):B(e,!1))}return!0}function Pg(a){for(var b=[],c=0;c<a.b.length;c++){var d=a.b[c];b.push([d.ob,d.xa,d.oa])}return b}function Og(a){for(var b=0;b<a.b.length;b++){var c=a.b[b];c.P&&Sg(a,c.oa,c.P)}return a.l}
function Lg(a,b){b||(a.B=0);for(var c in a.C){var d=a.C[c],e=d.path||"",f;if(!(f=d.name))a:{if((f=a.o.listDisks)&&f.options)for(var g=0;g<f.options.length;g++){var k=f.options[g];if(k.value==e){f=k.text;break a}}f=xa(e,!0)}if(e&&f&&(g=-1,c&&(g=c.charCodeAt(c.length-1)-48,0>g||9<g)&&(g=-1),0<=g&&g<a.b.length)){!Qg(a,g,f,e,!0)&&b&&B(a,!1);continue}a.G("Incorrect auto-mount settings for drive "+c+" ("+JSON.stringify(d)+")")}return!!a.B}
h.$c=function(a,b,c){if(!a&&!b){var d=this.o.listDisks;d&&d.options&&(a=d.options[d.selectedIndex].text,b=d.value)}d=(d=this.o.listDrives)&&ta(d.value,10);if(void 0===d||0>d||d>=this.b.length)return this.G("Unable to load the selected drive"),!1;if(!b)return Mg(this,d),!0;if(b==Jg)return this.G('Use "Choose File" and "Mount" to select and load a local disk.'),!1;if(b==Kg){b=window.prompt("Enter the URL of a remote disk image.","")||"";if(!b)return!1;a=xa(b);this.status("Attempting to load "+b+' as "'+
a+'"')}Qg(this,d,a,b,!1,c);return!0};h.Fd=function(){var a,b=this.o.listDrives;b=b&&ta(b.value,10);if(null==b||0>b||b>=this.b.length||!(a=this.b[b]))return this.G("Unable to boot the selected drive"),!1;if(!a.P)return this.G("Load a disk into the drive first"),!1;sd(this.c,0,!0,b);return(a=this.sb(a,a.Ze,a.$e,a.af,a.Qe,0,2))?(this.G("Unable to read the boot sector ("+a+")"),!1):!0};
function Qg(a,b,c,d,e,f){var g=-1,k=a.b[b];k.oa.toLowerCase()!=d.toLowerCase()&&(g++,Mg(a,b,!0),k.fc?a.G(a.type+" busy"):(k.fc=!0,e&&(k.Yc=!0,a.B++),k.ob=!!f,yg(new vg(a,k,"preload"),c,d,f,a.Gd)&&g++));return g}
h.Gd=function(a,b,c,d,e){a.fc=!1;b&&(b.M>a.M||b.T>a.T)&&(this.G('Disk "'+c+'" too large for drive '+(this.b[a.pb].nc||"---")),b=null);b?(a.P=b,a.xa=c,a.oa=d,this.Md(a.pb),Rg(this,c,d,b),this.G('Loaded disk "'+c+'" in drive '+(this.b[a.pb].nc||"---"),a.Yc||e),this.A&&kd(this.A)):a.ob=!1;a.Yc&&(a.Yc=!1,--this.B||B(this));Gg(this,a.pb);a.Ib&&(a.Ib(),a.Ib=null)};
function Hg(a,b,c,d){if((a=a.o.listDisks)&&a.options){for(var e=0;e<a.options.length;e++)if(a.options[e].value==c)return;e=document.createElement("option");e.text=b;e.value=c;d&&a.childNodes[0]?a.insertBefore(e,a.childNodes[0]):a.appendChild(e)}}
function Gg(a,b,c){var d=!1;if(0<=b&&b<a.b.length){var e=a.b[b],f=a.o.listDisks;a=a.o.listDrives;if(f&&a&&f.options&&a.options){if(c)for(c=0;c<a.options.length;c++)if(ta(a.options[c].value,10)==e.pb){a.selectedIndex!=c&&(a.selectedIndex=c);d=!0;break}c=ta(a.value,10);e=e.ob?Jg:e.oa;if(!isNaN(c)&&c==b){for(c=0;c<f.options.length;c++)if(f.options[c].value==e){f.selectedIndex!=c&&(f.selectedIndex=c);d=!0;break}c==f.options.length&&(f.selectedIndex=0)}}}return d}
h.yg=function(a){var b=this.o.listDrives;if(b&&b.options)for(var c=b.options.length,d=0;d<c;d++)if(b.options[d].textContent==a){var e=ta(b.options[d].value,10);if(0<=e)return Gg(this,e,!0)}return!1};
function Fg(a){var b=a.o.listDisks,c=a.o.descDisk,d=b.options&&b.options[b.selectedIndex];if(c&&d){b={};if(d=d.getAttribute("data-value"))try{b=eval("("+d+")")}catch(e){r(a.type+" option error: "+e.message)}a=b.desc;void 0===a&&(a="");b=b.href;void 0!==b&&(a='<a href="'+b+'" target="_blank">'+a+"</a>");c.innerHTML=a}}h.Eg=function(a){for(var b=0;b<this.b.length;b++){var c=this.b[b];if(c&&c.fc)return c.Ib||(c.Ib=a),!1}return!0};
function Mg(a,b,c){var d=a.b[b];if(d.P||!1===c)Sg(a,d.oa,d.P),d.xa="",d.oa="",d.P=null,d.ob=!1,c||(a.G("Drive "+(a.b[b].nc||"---")+" unloaded",c),Gg(a,b))}function Rg(a,b,c,d){var e;for(e=0;e<a.l.length;e++)if(a.l[e][1]==c){d.restore(a.l[e][2]);return}a.l[e]=[b,c,[]]}function Sg(a,b,c){var d;for(d=0;d<a.l.length;d++)if(a.l[d][1]==b){a.l[d][2]=c.save();break}}h.Md=function(){};h.sb=function(){return-1};h.uc=function(){return-1};var Ig="",Jg="?",Kg="??";
function N(a){Dg.call(this,"RK11",a,65536,C,C.Zb,Tg);this.s=this.f=this.a=this.i=this.h=this.g=this.m=0}p(N,Dg);h=N.prototype;h.bb=function(a){a||(a=[Ug.Zb|Ug.Bd|Ug.xd,0,S.za,0,0,0,0]);a=ia(a);this.s=a.next().value;this.f=a.next().value;this.a=a.next().value;this.i=a.next().value;this.h=a.next().value;this.g=a.next().value;this.m=a.next().value;return!0};h.oc=function(){return[this.s,this.f,this.a,this.i,this.h,this.g,this.m]};
h.sb=function(a,b,c,d,e,f,g,k,l){var m=0;a=a.P;var n=null;a||(m=T.rd,e=0);for(;e;){if(!n){if(b>=a.M){m=T.Xb;break}n=a.seek(b,c,d+1);if(!n){m=T.Ad;break}var q=0;++d>=a.R&&(d=0,++c>=a.T&&(c=0,++b))}var v,u;if(0>(v=a.read(n,q++))||0>(u=a.read(n,q++))){m=T.Yb;break}if(!k&&(Xb(this.v,Dd(this.c,f),v|u<<8),wc(this.v))){m=T.Cb;break}q>=a.Z&&(n=null);f+=g;e--}return l?l(m,b,c,d,e,f):m};
h.uc=function(a,b,c,d,e,f,g,k,l){var m=0;a=a.P;var n=null;a||(m=T.rd,e=0);for(;e;){var q=Zb(this.v,Dd(this.c,f));if(wc(this.v)){m=T.Cb;break}if(!n){if(b>=a.M){m=T.Xb;break}n=a.seek(b,c,d+1,!0);if(!n){m=T.Ad;break}var v=0;++d>=a.R&&(d=0,++c>=a.T&&(c=0,++b))}if(k){var u,oa;if(0>(u=a.read(n,v++))||0>(oa=a.read(n,v++))){m=T.Yb;break}if(q!=(u|oa<<8)){m=T.Cd;break}}else if(!a.write(n,v++,q&255)||!a.write(n,v++,q>>8)){m=T.Yb;break}v>=a.Z&&(n=null);f+=g;e--}return l?l(m,b,c,d,e,f):m};
h.oe=function(a,b,c,d,e,f){this.h=f&65535;this.a=this.a&~S.fb|f>>16-S.V.fb&S.fb;this.i=65536-e&65535;this.g=this.g&~Vg.Sc|d&Vg.Sc;this.f|=a;Wg(this);return!0};function Wg(a){a.a&=~S.Ja;a.f&&(a.f|=T.Zd,a.a|=S.Ja,a.f&T.Hc&&(a.a|=S.Hc))}h.Tf=function(){return this.s};h.kh=function(){};h.Uf=function(){return this.f};h.lh=function(){};h.Qf=function(){return this.a&S.Db};
h.hh=function(a){this.a=this.a&~S.va|a&S.va;if(this.a&S.Bb){a=!0;var b,c=(this.g&Vg.Ta)>>Vg.V.Ta,d=this.b[c];this.a&=~(S.za|S.Tc);this.f&=~T.Ee;switch(b=this.a&S.ca){case Xg.Ud:this.f=this.g=0;this.a=S.za;break;case Xg.je:case Xg.Va:var e=this.sb;case Xg.Wc:case Xg.Fb:e||(e=this.uc);var f=(this.g&Vg.zb)>>Vg.V.zb;var g=(this.g&Vg.Kc)>>Vg.V.Kc;var k=this.g&Vg.Sc;var l=65536-this.i&65535;var m=(this.a&S.fb)<<16-S.V.fb|this.h;var n=this.a&S.fe?0:2;if(f>=d.M){this.f|=T.Xb;break}if(k>=d.R){this.f|=T.Yb;
break}a=e.call(this,d,f,g,k,l,m,n,b>=Xg.Wc,this.oe.bind(this));break;case Xg.cc:f=(this.g&Vg.zb)>>Vg.V.zb;f<d.M?this.a|=S.Tc:this.f|=T.Xb;break;case Xg.$d:this.f=this.g=0,this.a=S.za|S.Tc}this.s=d.status|(d.P?Ug.ha:0)|c<<Ug.V.Mc|this.g&Ug.De;Wg(this);a&&(this.a&=~S.Bb,this.a|=S.za,this.a&S.eb&&yc(this.c,this.qa))}};h.Vf=function(){return this.i};h.mh=function(a){this.i=a};h.Pf=function(){return this.h};h.gh=function(a){this.h=a};h.Rf=function(){return this.g};h.ih=function(a){this.g=a};h.Sf=function(){return this.m};
h.jh=function(a){this.m=a};var Ug=C.$b,T=C.re,S=C.pe,Vg=C.qe,Xg=C.ca,Yg={},Tg=(Yg[65280]=[null,null,N.prototype.Tf,N.prototype.kh,"RKDS"],Yg[65282]=[null,null,N.prototype.Uf,N.prototype.lh,"RKER"],Yg[65284]=[null,null,N.prototype.Qf,N.prototype.hh,"RKCS"],Yg[65286]=[null,null,N.prototype.Vf,N.prototype.mh,"RKWC"],Yg[65288]=[null,null,N.prototype.Pf,N.prototype.gh,"RKBA"],Yg[65290]=[null,null,N.prototype.Rf,N.prototype.ih,"RKDA"],Yg[65294]=[null,null,N.prototype.Sf,N.prototype.jh,"RKDB"],Yg);
function M(a){Dg.call(this,"RL11",a,131072,D,D.se,Zg);this.a=this.m=this.f=this.g=this.i=this.h=0}p(M,Dg);h=M.prototype;h.bb=function(a){a||(a=[U.ha|U.za,0,0,0,0,0]);a=ia(a);this.a=a.next().value;this.m=a.next().value;this.f=a.next().value;this.g=a.next().value;this.i=a.next().value;this.h=a.next().value;return!0};h.oc=function(){return[this.a,this.m,this.f,this.g,this.i,this.h]};
h.sb=function(a,b,c,d,e,f,g,k,l){g=0;a=a.P;k=null;a||(g=$g.Ba,e=0);for(;e;){if(!k){k=a.seek(b,c,d+1);if(!k){g=$g.Ba;break}var m=0}var n,q;if(0>(n=a.read(k,m++))||0>(q=a.read(k,m++))){g=$g.Ba;break}Xb(this.v,Dd(this.c,f),n|q<<8);if(wc(this.v)){g=$g.Cb;break}f+=2;e--;if(m>=a.Z&&(k=null,++d>=a.R&&(d=0,++c>=a.T&&(c=0,++b>=a.M)))){g=$g.Ba;break}}return l?l(g,b,c,d,e,f):g};
h.uc=function(a,b,c,d,e,f,g,k,l){g=0;a=a.P;k=null;a||(g=$g.Ba,e=0);for(;e;){var m=Zb(this.v,Dd(this.c,f));if(wc(this.v)){g=$g.Cb;break}f+=2;e--;if(!k){k=a.seek(b,c,d+1,!0);if(!k){g=$g.Ba;break}var n=0}if(!a.write(k,n++,m&255)||!a.write(k,n++,m>>8)){g=$g.Ba;break}if(n>=a.Z&&(k=null,++d>=a.R&&(d=0,++c>=a.T&&(c=0,++b>=a.M)))){g=$g.Ba;break}}return l?l(g,b,c,d,e,f):g};
h.te=function(a,b,c,d,e,f){this.m=f&65535;this.a=this.a&~U.ya|f>>16-U.V.ya&U.ya;this.h=f>>16&ah.Fa;this.g=this.f=b<<V.V.Eb|(c?V.bc:0)|d&V.yd;this.i=65536-e&65535;a&&(this.a=this.a|a|U.Ja);return!0};h.Yf=function(){return this.a&U.Db};
h.ph=function(a){this.a=this.a&~U.va|a&U.va;this.h=this.h&60|(a&U.ya)>>U.V.ya;if(!(this.a&U.za)){a=!0;var b=this.b[(this.a&U.Ta)>>U.V.Ta],c=b.P;this.a&=~U.ha;switch(this.a&U.ca){case bh.Ie:this.i&ch.nd&&(this.a&=U.ha|U.ca|U.ya);this.i=b.status|this.g&V.bc|(c&&512==c.M?ch.ce:0);break;case bh.cc:if((this.f&V.be)==V.Fe){var d=this.f&V.Eb;b=(this.f&V.He)<<2;this.g=this.f&V.Ge?this.g+d:this.g-d;this.f=this.g=this.g&V.Eb|b}break;case bh.ne:this.i=this.g;break;case bh.ke:d=this.sb;case bh.Le:d||(d=this.uc);
var e=this.f>>V.V.Eb;var f=this.f&V.bc?1:0;var g=this.f&V.yd;!c||e>=c.M||g>=c.R?this.a=this.a|$g.Ba|U.Ja:(a=65536-this.i&65535,c=(this.h&ah.Fa)<<16|this.m,a=d.call(this,b,e,f,g,a,c,2,!1,this.te.bind(this)))}a&&(this.a=this.a|U.ha|U.za,this.a&U.eb&&yc(this.c,this.qa))}};h.Wf=function(){return this.m};h.nh=function(a){this.m=a&dh.va};h.Zf=function(){return this.f};h.qh=function(a){this.f=a};h.$f=function(){return this.i};h.rh=function(a){this.i=a};h.Xf=function(){return this.h};
h.oh=function(a){this.h=a&ah.Fa;this.a=this.a&~U.ya|(this.h&3)<<U.V.ya};var U=D.we,dh=D.ue,V=D.xe,ch=D.ac,ah=D.ve,$g=D.md,bh=D.ca,eh={},Zg=(eh[63744]=[null,null,M.prototype.Yf,M.prototype.ph,"RLCS"],eh[63746]=[null,null,M.prototype.Wf,M.prototype.nh,"RLBA"],eh[63748]=[null,null,M.prototype.Zf,M.prototype.qh,"RLDA"],eh[63750]=[null,null,M.prototype.$f,M.prototype.rh,"RLMP"],eh[63752]=[null,null,M.prototype.Xf,M.prototype.oh,"RLBE"],eh);
function Mc(a){Dg.call(this,"RX11",a,262144,ub,ub.ye,fh);this.u=this.s=this.f=this.w=this.a=this.m=0;this.g=W.gb;this.i=0;this.h=Array(128).fill(0)}p(Mc,Dg);h=Mc.prototype;
h.bb=function(a){a?(a=ia(a),this.a=a.next().value,this.m=a.next().value,this.u=a.next().value,this.s=a.next().value,this.f=a.next().value,this.w=a.next().value,this.g=a.next().value,this.i=a.next().value,this.h=a.next().value):(this.m=this.a=0,this.s=this.u=1,this.w=this.f=0,this.g=W.Va,this.i=0,(a=this.qa)&&Dc(this.c,a),gh(this));return!0};h.oc=function(){return[this.a,this.m,this.u,this.s,this.f,this.w,this.g,this.i,this.h]};h.Md=function(a){0==a&&this.bb()};
function hh(a,b){b&&(a.w=b,a.m=a.f,a.a|=X.Ja);a.g=W.gb;a.a|=X.DONE;a.a&X.eb&&yc(a.c,a.qa)}h.sb=function(a,b,c,d,e,f,g,k,l){k=0;var m=a.P,n=null;m||(k=a.pb?Y.Jc:Y.Ic,e=0);for(;e;){if(!n){if(b>=m.M){k=Y.he;break}n=m.seek(b,c,d+1);if(!n){k=Y.Qc;break}var q=0;++d>=m.R&&(d=0,++c>=m.T&&(c=0,++b))}var v;if(0>(a=m.read(n,q++))||0>(v=m.read(n,q++))){k=Y.Pc;break}Xb(this.v,Dd(this.c,f),a|v<<8);q>=m.Z&&(n=null);f+=g;e--}return l?l(k,b,c,d,e,f):k};
function gh(a){var b=0,c=a.a&X.Uc?1:0,d=a.b[c];d=d&&d.P;var e=a.u&ih.Fa,f=a.s&jh.Fa;a.f&=~(Z.kd|Z.ud|Z.Ab|Z.ha);if(d)if(a.f|=Z.ha,c=d.seek(e,0,f,!0)){e=0;for(f=a.h.length;e<f;){var g=d.read(c,e);if(0>g){b=Y.Pc;break}a.h[e++]=g}c.Te&&(a.f|=Z.Ab)}else b=Y.Qc;else b=c?Y.Jc:Y.Ic;hh(a,b)}h.bg=function(a,b){a=this.a;if(!b)switch(a&=X.Db,this.g){case W.Ec:case W.EMPTY:this.i<this.h.length&&(this.a|=X.Ga);break;case W.Va:case W.Fb:case W.dc:2>this.i&&(this.a|=X.Ga)}return a};
h.th=function(a){this.a=this.a&~X.va|a&X.va;if(this.a&X.INIT)this.bb();else if(this.a&X.Bb&&this.g==W.gb)switch(this.g=this.a&X.ca,this.a&=~(X.Bb|X.Ga|X.DONE|X.Ja),(a=this.qa)&&Dc(this.c,a),this.g){case W.Ec:case W.EMPTY:case W.Va:case W.Fb:case W.dc:this.i=0;break;case W.me:a=this.b[this.a&X.Uc?1:0];this.f&=~Z.ha;a&&a.P&&(this.f|=Z.ha);this.m=this.f;hh(this);break;case W.le:this.m=this.w,hh(this)}else this.a&X.eb?this.a&X.DONE&&yc(this.c,this.qa):(a=this.qa)&&Dc(this.c,a)};
h.cg=function(a,b){if(!b)switch(this.g){case W.EMPTY:this.a&X.Ga&&(this.a&=~X.Ga,this.m=this.h[this.i]&255,++this.i>=this.h.length&&hh(this))}return this.m};
h.uh=function(a){switch(this.g){case W.Ec:this.a&X.Ga&&(this.a&=~X.Ga,this.h[this.i]=a&255,++this.i>=this.h.length&&hh(this));break;case W.Va:case W.Fb:case W.dc:if(this.a&X.Ga)switch(this.a&=~X.Ga,this.i++){case 0:this.s=a;break;case 1:if(this.u=a,this.g==W.Va)gh(this);else{var b=this.g==W.dc,c=0,d=this.a&X.Uc?1:0,e=this.b[d];e=e&&e.P;var f=this.u&ih.Fa,g=this.s&jh.Fa;this.f&=~(Z.kd|Z.ud|Z.Ab|Z.ha);if(e)if(this.f|=Z.ha,d=e.seek(f,0,g,!0))for(b&&(d.Te=!0),b=0,f=this.h.length;b<f;){if(!e.write(d,b,
this.h[b]&255)){c=Y.Pc;break}b++}else c=Y.Qc;else c=d?Y.Jc:Y.Ic;hh(this,c)}}}this.m=a};var X=ub.ze,ih=ub.Ce,jh=ub.Be,Z=ub.Ae,W=ub.ca,Y=ub.ae,kh={},fh=(kh[65144]=[null,null,Mc.prototype.bg,Mc.prototype.th,"RXCS"],kh[65146]=[null,null,Mc.prototype.cg,Mc.prototype.uh,"RXDB"],kh);
function lh(a,b,c){t.call(this,"Computer",a,33554432);this.j.S=!1;this.H=null;mh(this,b);this.B=dd(this,"autoPower",a,6);this.g=0;this.K=+a.busWidth||+a.buswidth;this.s=this.i=this.u=null;this.m=this.J=!1;this.l=this.h=null;this.I=this.C=this.F=!1;this.O=dd(this,"url")||"";(Math.random()+.1).toString(36);this.b=nh(this);if(this.c=hb("CPU",this.id)){this.D=hb("Debugger",this.id);this.v=new bc({id:this.Ua+".bus",busWidth:this.K},this.c,this.D);var d=fb(this.id);if(this.w=(this.f=hb("Panel",this.id))&&
this.f.o.print)for(b=0;b<d.length;b++){var e=d[b];e.G=this.f.G;e.print=this.f.print;e.aa=this.f.aa}this.aa(rb+" v1.37.1\nCopyright \u00a9 2012-2017 Jeff Parsons <Jeff@pcjs.org>\nLicense: GPL version 3 or later <http://gnu.org/licenses/gpl.html>");this.aa("Portions adapted from the PDP-11/70 Emulator by Paul Nankervis <http://skn.noip.me/pdp11/pdp11.html>");for(b=0;b<d.length;b++)e=d[b],e.ja&&e.ja(this,this.v,this.c,this.D);b=null;e=dd(this,"resume",a);void 0!==e&&(1<e.length?b=this.i=e:this.a=parseInt(e,
10));var f;if(a=dd(this,"state")||(f=!0,a.state))this.u=b=a,f||(this.m=!0,this.a=oh),this.a&&(this.l=new E(this,"1.37.1"),ph(this.l)?b=null:delete this.l);!b&&this.a&&(b=qh(this))&&(this.m=!0);if(b){var g=this;Ha(b,null,!0,function(a,b,c){c?(g.i=null,g.m=!1,g.G("Unable to load machine state from server (error "+c+(b?": "+Ca(b):"")+")")):(g.s=b,g.J=!0);B(g)})}else B(this);this.o.power||(this.B=!0);!c&&this.B&&this.Tb(this.Qb)}else r("Unable to find CPU component")}p(lh,t);
function mh(a,b){if(!b){var c;if("object"==typeof resources&&(c=resources.parms))try{b=eval("("+c+")")}catch(d){r(d.message+" ("+c+")")}}a.H=b}function dd(a,b,c,d){var e=b.toLowerCase();e=Pa(b)||Pa(e);void 0===e&&a.H&&(e=a.H[b]);void 0===e&&c&&(e=c[b]);void 0===e&&"object"==typeof resources&&resources[b]&&(e=b);void 0===e&&(e=void 0);if("string"==typeof e&&d)switch(d){case 4:e=+e;isNaN(e)&&(e=0);break;case 6:e="true"==e}return e}h=lh.prototype;
h.Tb=function(a,b){for(var c=this,d=fb(this.id),e=0;e<=d.length;e++){var f=e<d.length?d[e]:this;if(!ob(f)){ob(f,function(){c.Tb(a,b)});return}}a.call(this,b)};function rh(a,b){var c=new E(a,"1.37.1",sh);if(ph(c)&&th(c)){var d=c.get(uh),e=b?b.get(uh):"unknown";d!=e&&(a.G("Machine state may be out-of-date\n("+d+" vs. "+e+")\nCheck your browser's local storage limits"),b||c.clear())}}
h.Qb=function(a){void 0===a&&(a=this.a||(this.s?vh:oh));if(!this.g){this.g++;var b=!1,c=!1;this.F=!1;var d=this.l||new E(this,"1.37.1");if(a==wh)b=!0;else if(a>oh){if(ph(d,this.s)){this.h=new E(this,"1.37.1",zh);ph(this.h)&&(Ah(this,d),a=Bh,Ch(this.h));this.h.set(uh,Ea());Dh(this.h);var e=this.a&&!this.m;if(a==vh||db("Click OK to restore the previous "+rb+" machine state, or CANCEL to reset the machine.")){if(c=th(d)){var f=d.get("code"),g=d.get("data");f&&("ok"==f?ph(d,g):("error"==f&&"no machine state"!=
g?(this.G("Error: "+g),"unable to verify user"==g&&(Na(Eh,""),this.b=null)):this.aa(f+": "+g),Ch(d),ph(d)?(c=th(d),e=!0):c=!1))}e&&rh(this,c?d:null)}else a==Bh&&d.clear()}else rh(this);delete this.s;delete this.l}e=fb(this.id);for(f=0;f<e.length;f++)g=e[f],g!==this&&g!=this.c&&(c=Fh(this,g,d,b,c));b=[d,a,c];a!=wh?this.Tb(this.Hd,b):this.Hd(b)}};
function Fh(a,b,c,d,e){if(!b.j.S){b.j.S=!0;var f=null;try{if(e&&((f=c.get(b.id))||(f=c.get(b.id.replace(/-[0-9]+\./i,".")))),"string"===typeof f&&(f=null),!b.la(f,d)&&f&&(r("Unable to restore state for "+b.type),a.u&&!a.J?(c.clear(),a.a=oh,window&&window.location.reload()):a.F=!0,b.la(null),e=!1),!d&&b.qd){var g=b.qd.split("|");for(a=0;a<g.length;a++)b.status(g[a])}}catch(k){r("Error restoring state for "+b.type+" ("+k.message+")")}}return e}
h.Hd=function(a){var b=a[0],c=0>a[1];a=a[2];this.I=!0;this.j.S=!0;var d=this.o.power;d&&(d.textContent="Shutdown");this.c&&(Fh(this,this.c,b,c,a),Vb(this,-2),this.c.Y());this.F&&(Ah(this,b),b.clear());!c&&this.h&&(this.h.clear(),delete this.h);this.g=0};
function Ah(a,b){if(db("There may be a problem with your "+rb+" machine.\n\nTo help us diagnose it, click OK to send this "+rb+" machine state to http://www.pcjs.org.")){var c=a.O;a=a.b||"";b=b.toString();var d={};d.app=rb;d.ver="1.37.1";d.url=c;d.user=a;d.type="bug";d.data=b;Ha("http://www.pcjs.org/api/v1/report",d,!0)}}
function Gh(a,b,c){var d="none";if(a.g)return null;a.g--;var e=new E(a,"1.37.1"),f=new E(a,"1.37.1",sh),g=Ea();f.set(uh,g);e.set(uh,g);e.set(Hh,"1.37.1");e.set(Ih,window?window.location.href:null);e.set(Jh,window?window.navigator.userAgent:"");if(a.c&&a.c.ka){c&&(b&&(a.c.j.Y=a.c.j.N),G(a.c));var k=a.c.ka(b,c);"object"===typeof k&&e.set(a.c.id,k);c&&(a.c.j.S=!1,!1===k&&(d=null))}g=fb(a.id);for(var l=0;l<g.length;l++){var m=g[l];m.j.S&&(m.ka&&(k=m.ka(b,c),"object"===typeof k&&e.set(m.id,k)),c&&(m.j.S=
!1,!1===k&&(d=null)))}d&&(c?(g=k=!1,b?(a.b&&Kh(a,a.b,e.toString()),Dh(f)&&Dh(e)||(d=null,k=g=!0)):a.a&&(k=!0,g=a.a==Lh),k&&e.clear(g)):d=e.toString());c&&(a.j.S=!1,b=a.o.power)&&(b.textContent="Power");a.g=0;return d}h.reset=function(){this.j.reset=!0;this.v&&this.v.reset&&this.v.reset();this.c&&this.c.reset&&this.c.reset();for(var a=fb(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.v&&c!==this.c&&c.reset&&c.reset()}this.j.reset=!1;Vb(this,-1)};
h.start=function(a,b){for(var c=fb(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.start&&e.start(a,b)}Vb(this,-1)};h.stop=function(a,b){for(var c=fb(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.stop&&e.stop(a,b)}Vb(this,-1)};
function Vb(a,b){if(a.c){var c=a.c,d=b||0,e=c.o.speed;e&&(0>=d||30<=(c.hd+=d))&&(e.textContent=c.j.N?c.Wa.toFixed(2)+"Mhz":"Stopped",c.hd=0)}if(a.f&&(a=a.f,b=b||0,a.l)){c=a.c.j.N;d=!!(a.c.g&8);if(0>=b||60<=(a.i+=b)){for(e=0;e<a.c.b.length;e++)Lb(a,"R"+e,a.c.b[e]);e=Jc(a.c);Lb(a,"PS",e);Lb(a,"NF",e&8?1:0,1);Lb(a,"ZF",e&4?1:0,1);Lb(a,"VF",e&2?1:0,1);Lb(a,"CF",e&1?1:0,1);a.i=0}-1>b?a.U=a.c.b[7]:0<b&&c&&!d&&(a.U=a.c.Ka);Hb(a,a.U);yb(a,a.b);b=a.c;b=b.jb?b.ta&16?1:2:4;$b(a,"B22",b&1);$b(a,"B18",b&2);$b(a,
"B16",b&4)}}
h.ma=function(a,b,c){var d=this;switch(b){case "power":return this.o[b]=c,c.onclick=function(){d.g||(d.j.S?Gh(d,!1,!0):d.Tb(d.Qb))},!0;case "reset":return this.o[b]=c,c.onclick=function(){if(d.j.S&&!d.g)if(d.a&&!d.i){var a=db("Click OK to save changes to this "+rb+" machine.\n\nWARNING: If you CANCEL, all disk changes will be discarded.");Gh(d,a,!0);!a&&d.u?window&&window.location.reload():(a||(d.C=!0),d.Qb(oh),d.C=!1)}else d.reset(),d.c&&!d.D&&d.c.Y()},!0;case "save":if(za(Ja(),"pcjs.org"))c.parentNode.removeChild(c);else return this.o[b]=
c,c.onclick=function(){var a=nh(d,!0);if(a){var b=!!(d.a&&!d.i||d.u),c=Gh(d,b);b?Kh(d,a,c):d.G("Resume disabled, machine state not saved")}},!0}return!1};function nh(a,b){var c=a.b;c||((c=Ma(Eh),void 0!==c)?!c&&b&&(b=null,window&&(b=window.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c=b)&&((c=Mh(a,c))||a.G("The user ID is invalid.")):b&&a.G("Browser local storage is not available"));return c}
function Mh(a,b){a.b=null;b=Ha(Ja()+"/api/v1/user?req=verify&user="+b);var c=b[1];if(!b[0]&&c)try{b=eval("("+c+")"),b.code&&"ok"==b.code&&(Na(Eh,b.data),a.b=b.data)}catch(d){r(d.message+" ("+c+")")}return a.b}function qh(a){var b=null;a.b&&(b=Ja()+"/api/v1/user?req=load&user="+a.b+"&state="+Nh(a,"1.37.1"));return b}
function Kh(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=Nh(a,"1.37.1");d.data=c;b=Ha(Ja()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var e=d.indexOf("\n");0<e&&(d=d.substr(0,e));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.G("Machine state saved to server"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.G(c),Na(Eh,""),a.b=null)}}
function hg(a){var b;a=fb(a.id);for(var c=0;c<a.length;c++){var d=a[c];if(b)b==d&&(b=null);else if("RAM"==d.type)return d}return null}function kd(a){if(a.w){var b=0,c=0;window&&(b=window.scrollX,c=window.scrollY);a.w.focus();window&&window.scrollTo(b,c)}}var zh="failsafe",sh="validate",uh="timestamp",Hh="version",Ih="url",Jh="browser",Eh="user",wh=-1,oh=0,vh=1,Bh=2,Lh=3;
Sa(function(){for(var a=z(document,y+"-machine"),b=0;b<a.length;b++){var c=a[b],d=A(c);c=z(c,y,"computer");for(var e=0;e<c.length;e++){var f=c[e],g=A(f);g=new lh(g,d,!0);x(g,f);g.B&&g.Tb(g.Qb)}}});Ta.show.push(function(){for(var a=z(document,y,"computer"),b=0;b<a.length;b++){var c=A(a[b]);if(c=hb("Computer",c.id))c.j.fd=!1,c.I&&!c.j.S&&c.Qb(wh)}});
Ta.exit.push(function(){for(var a=z(document,y,"computer"),b=0;b<a.length;b++){var c=A(a[b]);if(c=hb("Computer",c.id))c.j.fd=!0,c.j.S&&Gh(c,!(!c.a||c.i),!0)}});function E(a,b,c){this.id=a.id;this.a="";this.c={};this.b=this.o=!1;this.key=Nh(a,b,c);Ch(this,a.Ke)}h=E.prototype;h.set=function(a,b){try{this.c[a]=b}catch(c){}};h.get=function(a){return this.c[a]||null};h.data=function(){return this.c};function ph(a,b){return b?(a.a=b,a.b=!0,a.o=!1,!0):a.b?!0:Ka()&&(b=Ma(a.key))?(a.a=b,a.b=!0):!1}
function th(a){var b=!0;if(!a.o)try{a.c=JSON.parse(a.a),a.o=!0}catch(c){r(c.message||c),b=!1}return b}function Dh(a){var b=!0;if(Ka()){var c=JSON.stringify(a.c);Na(a.key,c)||(r("Unable to store "+c.length+" bytes in browser local storage"),b=!1)}return b}h.toString=function(){return this.c?JSON.stringify(this.c):this.a};function Ch(a,b){a.a="";a.c={};a.b=a.o=!1;b&&a.set("parms",b)}
h.clear=function(a){Ch(this);var b=[];try{for(var c=0,d=window.localStorage.length;c<d;c++)b.push(window.localStorage.key(c))}catch(e){}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){try{window.localStorage.removeItem(d)}catch(e){}b.splice(c,1);c=0}};function Nh(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}var Oh=0;
function Ph(a,b,c,d,e,f,g){f("Loading "+a+"...");Ha(a,null,!0,function(k,l,m){m?(l||(l="unable to load "+a+" ("+m+")"),g(l,null)):Qh(l,a,b,c,d,e,f,g)})}
function Qh(a,b,c,d,e,f,g,k){function l(a,g){if(g)k(g,null);else{c&&(ab(c,b,a),(g=b)&&0>g.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(g=window.location.pathname+g),e?"}"==e.slice(-1)?(e=e.slice(0,-1),1<e.length&&(e+=",")):e='{state:"'+e+'",':e="{",e+='url:"'+g+'"}',"object"==typeof resources&&(g=null),e=e.replace(/\$/g,"$$$$"),a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(e?" parms='"+e+"'":"")+(g?' url="'+g+'"':"")));f||(a=a.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,
"$1PDPjs$2"),a=a.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1"+d+"$2"));g=null;if("<"==a.charAt(0))try{f||(a=a.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(g=new window.ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(a)):g=(new window.DOMParser).parseFromString(a,"text/xml")}catch(q){g=null,a=q.message}else a="unrecognized XML: "+(255<a.length?a.substr(0,255)+"...":a);k(a,g)}}a?f?Rh(a,g,l):l(a,null):k("no data"+(b?" for file: "+
b:""),null)}
function Rh(a,b,c){var d;if(d=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(a)){var e=d[2];b("Loading "+e+"...");Ha(e,null,!0,function(f,g,k){if(k||!g)c(a,"unable to resolve XML reference: "+d[0]+" ("+k+")");else{if(f=d[3])if(k=g.match(new RegExp("<"+d[1]+"[^>]*>"))){for(var l=k[0],m,n=/( [a-z]+=)(['"])(.*?)\2/gi;m=n.exec(f);)l=0>l.toLowerCase().indexOf(m[1].toLowerCase())?l.replace(">",m[0]+">"):l.replace(new RegExp(m[1]+"(['\"])(.*?)\\1"),m[0]);k[0]!=l&&(g=g.replace(k[0],l))}else{c(a,"missing <"+d[1]+
"> in "+e);return}g=g.replace(/<\?xml[^>]*>[\r\n]*/,"");a=a.replace(d[0],g);Rh(a,b,c)}})}else c(a,null)}
function Sh(a,b,c,d,e){function f(a){if(void 0===l){var b=k&&z(k,"machine-warning");l=b&&b[0]||k}l&&(l.innerHTML=Aa(a))}function g(a){f("Error: "+a);m&&(--Oh||Xa(!0));m=!1}var k,l,m=!0;Oh++;bb[b]={};try{if(k=document.getElementById(b)){var n;if("object"==typeof resources&&(n=resources.css)){var q=document.head||document.getElementsByTagName("head")[0],v=document.createElement("style");v.type="text/css";v.styleSheet?v.styleSheet.cssText=n:v.appendChild(document.createTextNode(n));q.appendChild(v)}d||
(n=a,"pdp"==a.substr(0,3)&&(n="pdpjs"),d="/versions/"+n+"/1.37.1/components.xsl");n=function(e,l){l?Ph(d,null,a,null,!1,f,function(a,e){e?(ab(b,d,a),f("Processing "+c+"..."),window.ActiveXObject||"ActiveXObject"in window?(e=l.transformNode(e))?(k.outerHTML=e,--Oh||Xa(!0)):g("transformNodeToObject failed"):document.implementation&&document.implementation.createDocument?(a=new XSLTProcessor,a.importStylesheet(e),(e=a.transformToFragment(l,document))?k.parentNode?(k.parentNode.replaceChild(e,k),--Oh||
Xa(!0)):g("invalid machine element: "+b):g("transformToFragment failed")):g("unable to transform XML: unsupported browser")):g(a)}):g(e)};"<"!=c.charAt(0)?Ph(c,b,a,e,!0,f,n):Qh(c,null,b,a,e,!1,f,n)}else g("missing machine element: "+b)}catch(u){g(u.message)}return m}window.embedPDP10=function(a,b,c,d){Xa(!1);return Sh("pdp10",a,b,c,d)};window.embedPDP11=function(a,b,c,d){Xa(!1);return Sh("pdp11",a,b,c,d)};
window.commandMachine=function(a,b,c,d,e,f){if("script"==e){d=!1;c+=".machine";if(!f)delete jb[c],d=!0;else if("string"==typeof f&&!jb[c]){d=!0;e=jb;for(var g=c,k=f.length,l=[],m=[],n="",q=null,v=0;v<k;v++){var u=f[v];if('"'==u||"'"==u)q&&u!=q?n+=u:(q?q=null:q=u,n&&(m.push(n),n=""));else{if(!q){if("\r"==u||"\n"==u)u=";";if(" "==u||"\t"==u||";"==u){n&&(m.push(n),n="");";"==u&&m.length&&(l.push(m),m=[]);continue}}n+=u}}n&&m.push(n);m.length&&l.push(m);e[g]=l;ib(c)||(d=!1)}return d?(b&&(a.disabled=!0),
!0):!1}if(d&&(g=hb(d,c+".machine"))&&(k=g.exports)&&(k=k[e]))return k.call(g,f)?(b&&(a.disabled=!0),!0):!1;console.log("unimplemented: commandMachine('"+c+"','"+d+"','"+e+"','"+f+"')");return!1};window.enableEvents=Xa;window.sendEvent=Za;})();//# sourceMappingURL=/versions/pdpjs/1.37.1/pdp11.map
