(function(){/*
 http://pcjs.org/modules/devices/device.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/input.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/led.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/rom.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/time.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/ledctrl.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/devices/machine.js (C) Jeff Parsons 2012-2017
*/
var t,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={wa:!0},ea={};try{ea.__proto__=da;ca=ea.wa;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ha=ba;
function u(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Fa=b.prototype}var ia="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},y="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ja(){ja=function(){};y.Symbol||(y.Symbol=ka)}var ka=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function la(){ja();var a=y.Symbol.iterator;a||(a=y.Symbol.iterator=y.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ia(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ma(this)}});la=function(){}}function ma(a){var b=0;return na(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}
function na(a){la();a={next:a};a[y.Symbol.iterator]=function(){return this};return a}function oa(a){la();var b=a[Symbol.iterator];return b?b.call(a):ma(a)}function pa(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function B(a,b){if(b){var c=y;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ia(c,a,{configurable:!0,writable:!0,value:b})}}B("Number.parseInt",function(a){return a||parseInt});
B("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b}});B("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});B("Math.log2",function(a){return a?a:function(a){return Math.log(a)/Math.LN2}});
B("String.prototype.startsWith",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var b=this+"";a+="";var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<g&&c<e;)if(b[c++]!=a[h++])return!1;return h>=g}});var qa="Machine";
function D(a,b,c,d){this.l=d||{};this.v=a;this.pa=b;this.version=c||0;this.o={};E[this.v]||(E[this.v]=[]);E[this.v].push(this);ra(this,this.l);sa(this,this.l);ta(this,this.l.bindings);this.sa=""}var ua;
D.prototype.ba=function(a,b){var c=this;switch(a){case va:b.onclick=function(){var a=wa(c);a&&(a.value="")};break;case xa:b.value="",b.addEventListener("keypress",function(a){a=a||window.event;var d=a.which||a.keyCode;if(d){var g=b.value;b.setSelectionRange(g.length,g.length);a.stopPropagation();13==d&&(a.preventDefault(),g=b.value+="\n",b.blur(),b.focus(),ya(c,g))}})}};
function ta(a,b){var c=Array.isArray(b),d;for(d in b){var e=b[d];c&&(d=e);var g=document.getElementById(e);g?(a.o[d]=g,a.ba(d,g)):c||F(a,"unable to find device ID: "+e)}}function za(a,b,c,d){c&&(a.options.length=0);if(b)for(var e in b)c=document.createElement("option"),c.text=e,c.value="string"==typeof b[e]?b[e]:e,a.appendChild(c),c.value==d&&(a.selectedIndex=a.options.length-1)}function Aa(a,b){var c=Ba;G[a.v]||(G[a.v]={});G[a.v][c]||(G[a.v][c]=[]);G[a.v][c].push(b)}
function sa(a,b){if(b.overrides){var c=Ca(),d;for(d in c)if(0<=b.overrides.indexOf(d)){var e=c[d];if(e.match(/^[+-]?[0-9.]+$/))var g=Number.parseInt(e,10);else"true"==e?g=!0:"false"==e?g=!1:(g=e,e='"'+e+'"');b[d]=g;F(a,"overriding "+a.pa+" property '"+d+"' with "+e)}}}
function ra(a,b){if(a.version){var c="",d=E[a.v];if(d)for(var e in d)if(d[e].pa==a.v){var g=d[e];break}if(g.version!=a.version){c="Machine";var h=g.version}else b.version&&b.version>a.version&&(c="Config",h=b.version);c&&(b="Error: "+a.ia("%s Device version (%3.2f) incompatible with %s version (%3.2f)",b.Da,a.version,c,h)+"\n\nClearing your browser's cache may resolve the issue.",(c=Da)&&0>Ea.indexOf(c)&&(alert(b),Ea.push(c)),F(a,b))}}
function ya(a,b){var c=Fa(a);if(c){var d=b.slice(b.lastIndexOf("\n",b.length-2)+1,-1)||a.sa;a.sa="";d=d.trim();b=d.split(" ");switch(b[0]){case "c":(c=b[1])?(F(a,"set category '"+c+"'"),Ga(a,c)):(c=Ga(a))?F(a,"cleared category '"+c+"'"):F(a,"no category set");break;case "?":var e="";Ha.forEach(function(a){e+="\n"+a});e&&F(a,"default commands:"+e);default:for(b.unshift(d),d=0;d<c.length&&!c[d](b,a);d++);}}}
function wa(a){var b=xa,c=a.o[b];if(void 0===c){var d=E[a.v],e;for(e in d)if(c=d[e].o[b])break;c||(c=null);a.o[b]=c}return c}function H(a,b){if(a=E[a.v])for(var c in a)if(a[c].l["class"]==b){var d=a[c];break}return d}function Fa(a){var b=Ba;return G[a.v]&&G[a.v][b]}function Ia(a,b){return a.l.bindings&&a.l.bindings[b]}function Ja(a){if(a=a.o[Ka])var b=a.textContent;return b}function La(a,b,c){a=+a||0;a<b&&(a=b);a>c&&(a=c);return a}
function I(a,b,c){a=a.l[b];void 0===a?a=c:(b=typeof c,typeof a!=b&&("boolean"==b?a=!!a:"number"==typeof c&&(a=+a)));return a}function Ma(a){if(void 0===Na){var b=!1;if(window)try{window.localStorage.setItem(J,J),b=window.localStorage.getItem(J)==J,window.localStorage.removeItem(J)}catch(c){F(a,c.message),b=!1}Na=b}return!!Na}
function Oa(a){if(window){var b=window.navigator.userAgent;return"iOS"==a&&!!b.match(/(iPod|iPhone|iPad)/)&&!!b.match(/AppleWebKit/)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}function Pa(a,b){if(K&&0<=K.indexOf(Qa))L+=b;else{if(a=wa(a))a.value+=b,8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096)),a.scrollTop=a.scrollHeight;a||(a=b.lastIndexOf("\n"),0<=a&&(console.log(L+b.substr(0,a)),L="",b=b.substr(a+1)),L+=b)}}function F(a,b){Pa(a,b+"\n")}
D.prototype.ea=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];Pa(this,this.ia.apply(this,[].concat([a],c instanceof Array?c:pa(oa(c)))))};function M(a,b,c){if(a=a.o[b])a.textContent=c}function Ga(a,b){b=void 0===b?"":b;var c=K,d=!b&&K&&0<=K.indexOf(Qa);K=b;d&&(b=L,L="",Pa(a,b));return c}
D.prototype.ia=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d="";var e=a.split(/%([-+ 0#]?)([0-9]*)(\.?)([0-9]*)([hlL]?)([A-Za-z%])/),g=0,h;for(h=0;h<e.length-7;h+=7){d+=e[h];var f=c[g++],n=e[h+1],k=+e[h+2]||0,m=+e[h+4]||0,l=e[h+6],p=null;switch(l){case "d":f=Math.trunc(f);case "f":l=Math.trunc(f)+"";m&&(k-=m+1);l.length<k&&("0"==n?(0>f&&k--,l=("0000000000"+Math.abs(f)).slice(-k),0>f&&(l="-"+l)):l=("          "+l).slice(-k));m&&(f=Math.trunc((f-Math.trunc(f))*Math.pow(10,
m)),l+="."+("0000000000"+Math.abs(f)).slice(-m));d+=l;break;case "s":for(;f.length<k;)f="-"==n?f+" ":" "+f;d+=f;break;case "X":p=Ra;case "x":p||(p=Sa);l="";do l=p[f&15]+l,f>>>=4;while(0<--k||f);d+=l;break;default:d+="(unrecognized printf conversion %"+l+")"}}return d+=e[h]};
function Ca(){var a,b=ua;if(!b){b={};if(window){a||(a=window.location.search.substr(1));for(var c,d=/\+/g,e=/([^&=]+)=?([^&]*)/g;c=e.exec(a);)b[decodeURIComponent(c[1].replace(d," ")).trim()]=decodeURIComponent(c[2].replace(d," ")).trim()}ua=b}return b}var va="clear",xa="print",Qa="buffer",Ha=["c\tset category"],Ba="command",Ea=[],Da="version",Na=void 0,J="PCjs.localStorage",G={},E={},K="",L="",Sa="0123456789abcdef",Ra="0123456789ABCDEF";
function N(a,b,c){D.call(this,a,b,Ta,c);this.time=H(this,O);this.R=this.N=this.c=this.M=null;this.X=I(this,"drag",!1);this.O=I(this,"scroll",!1);this.g=!1;if(a=this.o[Ua]){b=this.l.location;this.ma=b[0];this.na=b[1];this.f=b[2];this.m=b[3];this.s=b[4]||1;this.K=b[5]||1;this.ga=b[6]||a.naturalWidth||this.f;this.ka=b[7]||a.naturalHeight||this.m;this.Y=b[8]||0;this.aa=b[9]||0;this.fa=b[10]||0;this.ja=b[11]||0;(this.b=this.l.map)?(this.w=this.b.length,this.i=this.b[0].length):(this.i=this.s,this.w=this.K,
this.s=this.K=0);this.ca=I(this,"hexagonal",!1);this.a=I(this,"buttonDelay",0);this.U=this.f/(this.i+this.i*this.s)|0;this.V=this.m/(this.w+this.w*this.K)|0;this.da=this.U*this.s|0;this.W=this.V*this.K|0;this.j=this.L=-1;Va(this,a);Wa(this,a);if(this.time){var d=this;this.a&&(this.$=Xa(this.time,"timerInputRelease",function(){0>d.j&&0>d.L&&P(d,-1,-1)}));this.b&&(this.a&&(this.la=Xa(this.time,"timerKeyRelease",function(){Ya(d)})),this.h=0,this.u=[],Za(this))}this.T=this.Z=-1}}u(N,D);
N.prototype.ba=function(a,b){var c=this;switch(a){case $a:b.onclick=function(){c.c&&c.c()};break;case ab:b.onclick=function(){c.N&&c.N()}}D.prototype.ba.call(this,a,b)};function bb(a,b,c){a.c=b;a.N=c}function cb(a,b){a.R=b}function db(a,b){a.M=b}function eb(a){a.a?Q(a.time,a.la,a.a):Ya(a)}
function Za(a){var b=document;b.addEventListener("keydown",function(b){b=b||window.event;if(document.activeElement==a.o[$a]){var c=fb[b.which||b.keyCode];c&&gb(a,c)&&b.preventDefault()}});b.addEventListener("keypress",function(b){b=b||window.event;var c=String.fromCharCode(b.which||b.charCode);c&&gb(a,c)&&b.preventDefault()})}
function Va(a,b){b.addEventListener("mousedown",function(c){if(!a.g){var d=a.o[$a];if(d){var e=window.scrollX,g=window.scrollY;d.focus();window.scrollTo(e,g)}c.button||R(a,b,hb,c)}});b.addEventListener("mousemove",function(c){a.g||R(a,b,ib,c)});b.addEventListener("mouseup",function(c){a.g||c.button||R(a,b,S,c)});b.addEventListener("mouseout",function(c){a.g||(0>a.j?R(a,b,ib,c):R(a,b,S,c))})}
function Wa(a,b){b.addEventListener("touchstart",function(c){a.O&&(a.g=!0);R(a,b,hb,c)});b.addEventListener("touchmove",function(c){R(a,b,ib,c)});b.addEventListener("touchend",function(c){R(a,b,S,c)})}function gb(a,b){for(var c=0;c<a.b.length;c++)for(var d=a.b[c],e=0;e<d.length;e++)if(0<=d[e].split("|").indexOf(b))return a.h?16>a.u.length&&a.u.push(b):(a.h=1,P(a,e,c),eb(a)),!0;a.ea("unrecognized key '%s' (0x%02x)\n",b,b.charCodeAt(0));return!1}
function Ya(a){1==a.h?(a.h++,P(a,-1,-1),eb(a)):(a.h=0,a.u.length&&gb(a,a.u.shift()))}
function R(a,b,c,d){var e=-1,g=-1,h=!1,f;if(c<S){d=d||window.event;if(d.targetTouches&&d.targetTouches.length){var n=d.targetTouches[0].pageX;var k=d.targetTouches[0].pageY;h=1<d.targetTouches.length}else n=d.pageX,k=d.pageY;var m=f=0;var l=b;do isNaN(l.offsetLeft)||(f+=l.offsetLeft,m+=l.offsetTop);while(l=l.offsetParent);n=a.ga/b.offsetWidth*(n-f)|0;k=a.ka/b.offsetHeight*(k-m)|0;b=n-a.ma;var p=k-a.na;m=f=!1;l=n>=a.Y&&n<a.Y+a.fa&&k>=a.aa&&k<a.aa+a.ja;if(0<=b&&b<a.f&&0<=p+a.W||l)if(h||a.O||d.preventDefault(),
0<=b&&b<a.f&&0<=p&&p<a.m){m=!0;d=a.f/a.i|0;var r=a.m/a.w|0,q=b/d|0,v=p/r|0;!a.ca||v&1||(b-=d>>1,q=b/d|0,q==a.i-1&&(b=-1));r=v*r+(a.W>>1);b-=q*d+(a.da>>1);p-=r;0<=b&&b<a.U&&0<=p&&p<a.V&&(e=q,g=v,f=!0)}}if(!h)if(c==hb)a.j=n,a.L=k,m?(P(a,e,g),f&&a.a&&Q(a.time,a.$,a.a,!0)):l&&a.c&&a.c();else if(c==ib)0<=a.j&&0<=a.L&&a.X?P(a,e,g):a.R&&a.R(e,g);else if(c==S){if(c=a.a)c=a.time,e=a.$,c=c.a&&0<e&&e<=c.b.length?0<=c.b[e-1].S:!1;c||P(a,-1,-1);a.j=a.L=-1}else F(a,"unrecognized action: "+c)}
function P(a,b,c){if(b!=a.T||c!=a.Z)a.T=b,a.Z=c,a.M&&a.M(b,c)}var hb=1,ib=2,S=3,$a="power",ab="reset",Ua="surface",fb={8:"\b"},Ta=1.11;
function jb(a,b,c){D.call(this,a,b,kb,c);a=this.o[lb];if(!a)throw Error("LED binding for '"+lb+"' missing: '"+this.l.o[lb]+"'");b=document.createElement("canvas");if(!b||!b.getContext)throw a.innerHTML="LED device requires HTML5 canvas support",Error("LED device requires HTML5 canvas support");this.Z=a;this.type=La(this.l.type||mb,mb,nb);this.i=ob[this.type][0];this.u=ob[this.type][1];this.width=I(this,"width",this.i);this.height=I(this,"height",this.u);this.h=I(this,"cols",1);this.b=this.h+I(this,
"colsExtra",0);this.U=I(this,"rows",1);this.f=this.U+I(this,"rowsExtra",0);this.V=this.width*this.h;this.T=this.height*this.U;this.j=T("black",0);this.g=pb(this.l.color)||this.j;this.ca=T(this.g,1,.25);this.aa=T(this.g,1,2);this.m=pb(this.l.backgroundColor);this.da=I(this,"fixed",!1);this.da||(b.style.width="100%",b.style.height="auto");this.X=I(this,"hexagonal",!1);this.fa=I(this,"highlight",!0);this.O=I(this,"persistent",this.type<nb);b.setAttribute("width",this.V.toString());b.setAttribute("height",
this.T.toString());b.style.backgroundColor=this.j;a.appendChild(b);this.$=b.getContext("2d");if(this.K=document.createElement("canvas"))this.K.width=this.W=this.i*this.h,this.K.height=this.M=this.u*this.U,this.c=this.K.getContext("2d");this.Y=(this.f+1)*this.b*4;this.a=Array(this.Y);this.w=null;this.ga=this.h<this.b?4*(this.b-this.h):0;this.s=this.L=this.R=!1;this.N=-1;var d=this;(this.time=H(this,O))&&qb(this.time,function(){U(d)})}u(jb,D);function rb(a,b){sb(a,a.a);a.s=a.L=!0;b&&U(a,!0)}
function tb(a){a.m?(a.c.fillStyle=a.m,a.c.fillRect(0,0,a.W,a.M)):a.c.clearRect(0,0,a.W,a.M)}
function U(a,b){b=void 0===b?!1:b;if(a.s||b){if(a.type<nb){var c=-1;if(!a.O||b)tb(a);else if(a.R){c=a.h-1;var d=a.i*c;a.c.drawImage(a.K,a.i,0,d,a.M,0,0,d,a.M)}for(var e=d=0;e<a.f;e++){for(var g=0;g<a.h;g++){var h=a.a[d],f=a.a[d+1]||a.j,n=a.fa&&d==a.N;if(a.a[d+3]&V||n||b){if(0>c||g==c)a:{var k=a,m=h;h=f;var l=g;f=e;var p=n;l=void 0===l?0:l;f=void 0===f?0:f;p=void 0===p?!1:p;var r=0;if(k.X&&!(f&1)&&(r=k.i>>1,l==k.h-1))break a;if(h&&h!=k.g){p=p?T(h,1,2):h;var q=T(h,1,.25)}else p=p?k.aa:k.g,q=k.ca;h=
!1;m=m?p:q;p==k.j&&(m=k.m,h=!0);p=l*k.i+r;q=f*k.u;k.O&&(l=l*k.i+r,f*=k.u,k.m?(k.c.fillStyle=k.m,k.c.fillRect(l,f,k.i,k.u)):k.c.clearRect(l,f,k.i,k.u));k.c.fillStyle=m;f=ub[k.type];3==f.length?(k.c.beginPath(),k.c.arc(p+f[0],q+f[1],f[2],0,2*Math.PI),h?(k.c.globalCompositeOperation="destination-out",k.c.fill(),k.c.globalCompositeOperation="source-over"):k.c.fill()):k.c.fillRect(p+f[0],q+f[1],f[2],f[3])}a.a[d+3]&=~V;n&&(a.a[d+3]|=V)}d+=4}d+=a.ga}a.R=!1}else{b="";for(c=0;c<a.a.length;c+=4)b+=a.a[c]||
" ",a.a[c+3]&vb&&(b+=".");tb(a);for(e=d=c=0;c<b.length;c++){f=b[c];"."==f&&d&&d--;g=a;n=d;k=e;n=void 0===n?0:n;k=void 0===k?0:k;if(f=wb[f])for(h=0;h<f.length;h++)if(l=g,r=xb[f[h]]){m=(void 0===n?0:n)*l.i;p=(void 0===k?0:k)*l.u;l.c.fillStyle=l.g;l.c.beginPath();if(3==r.length)l.c.arc(m+r[0],p+r[1],r[2],0,2*Math.PI);else for(q=0;q<r.length;q+=2)q?l.c.lineTo(m+r[q],p+r[q+1]):l.c.moveTo(m+r[q],p+r[q+1]);l.c.closePath();l.c.fill()}if(++d==a.h&&(d=0,++e==a.f))break}}a.$.globalCompositeOperation=a.m&&!a.O?
"source-over":"copy";a.$.drawImage(a.K,0,0,a.W,a.M,0,0,a.V,a.T);a.s=!1;a.N=-1}else a.O||a.L||rb(a,!0);a.L=!1}function yb(a,b,c){b=4*(c*a.b+b);return b<=a.a.length-4?a.a[b+2]:0}function W(a,b,c){var d;b=4*(c*a.b+b);b<=a.a.length-4&&(d=a.a[b]);return d}function pb(a){return(a=a||void 0)&&zb[a]||a}
function T(a,b,c){b=void 0===b?1:b;c=void 0===c?1:c;if(a){var d=[];a=zb[a]||a;if(Ab(a,d)){a="rgba(";var e;for(e=0;3>e;e++){var g=Math.round(d[e]*c);g=0>g?0:255<g?255:g;a+=g+","}a+=(e<d.length?d[e]:b)+")"}}return a}function sb(a,b){for(var c=0;c<b.length;c+=4)b[c]=a.type<nb?X:" ",b[c+1]=a.g==a.j?null:a.g,b[c+2]=0,b[c+3]=V}
function Ab(a,b){var c=16,d=a.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);d||(c=10,d=a.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d+|)\)$/i));if(d){for(a=1;a<d.length;a++)b[a-1]=Number.parseInt(d[a],c);b.length=a-1;return!0}return!1}function Bb(a,b,c,d){var e=null;0<=c&&c<a.f&&0<=b&&b<a.b&&(e=!1,d=d||a.g,d==a.j&&(d=null),b=4*(c*a.b+b),a.a[b+1]!==d&&((a.a[b+1]=d)||(a.a[b]=X),a.a[b+3]|=V,a.s=e=!0),a.N=b,a.L=!0);return e}
function Cb(a,b,c,d){if(0<=c&&c<a.f&&0<=b&&b<a.b){b=4*(c*a.b+b);c=0;if(a.a[b+1])for(var e=0;e<d.length;e++)c=c<<4|d[e]&15;a.a[b+2]!==c&&(a.a[b+2]=c,a.a[b+3]|=V,a.s=!0);a.N=b;a.L=!0}}function Y(a,b,c,d){var e=!1,g=0&Db;b=4*(c*a.b+b);if(b<=a.a.length-4){if(a.a[b]!==d||(a.a[b+3]&Db)!==g)a.a[b]=d,a.a[b+3]=a.a[b+3]&~Db|g|V,a.s=e=!0;a.R=!1;a.N=b;a.L=!0}return e}
var mb=1,nb=3,lb="container",zb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",
darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",
goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",
lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",
olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",
slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},X=0,Db=1,vb=1,V=128,Eb={},ub=(Eb[mb]=[16,16,14],Eb[2]=[2,2,28,28],Eb),ob=[[],[32,32],[32,32],[96,128]],xb={A:[30,8,79,8,67,19,37,19],B:[83,10,77,52,67,46,70,22],C:[77,59,71,100,61,89,64,64],D:[28,91,58,91,69,104,
15,104],E:[18,59,28,64,25,88,12,100],F:[24,10,34,21,31,47,18,52],G:[24,56,34,50,60,50,71,56,61,61,33,61],P:[80,102,8]},wb={" ":[],0:"ABCDEF".split(""),1:["B","C"],2:["A","B","D","E","G"],3:["A","B","C","D","G"],4:["B","C","F","G"],5:["A","C","D","F","G"],6:"ACDEFG".split(""),7:["A","B","C"],8:"ABCDEFG".split(""),9:"ABCDFG".split(""),"-":["G"],E:["A","D","E","F","G"],".":["P"]},kb=1.11;
function Fb(a,b,c){D.call(this,a,b,Gb,c);this.data=c.values;if(this.o[Hb]){var d=this;c=Math.log2(this.data.length)/2;this.b=Math.pow(2,Math.ceil(c));this.c=Math.pow(2,Math.floor(c));this.a=new jb(a,b+"LEDs",{"class":"LED",bindings:{container:Ia(this,Hb)},type:mb,cols:this.b,rows:this.c,color:I(this,"colorROM","green"),backgroundColor:I(this,"backgroundColorROM","black"),persistent:!0}),rb(this.a,!0);this.f=new N(a,b+"Input",{"class":"Input",location:[0,0,this.a.V,this.a.T,this.b,this.c],bindings:{surface:Ia(this,
Hb)}});this.h=Ja(this);cb(this.f,function(a,b){if(d.g){var c=d.h;0<=a&&0<=b&&(a=b*d.b+a,c=d.g.Ea(d.data[a],a));M(d,Ka,c)}})}}u(Fb,D);var Hb="array",Ka="cellDesc",Gb=1.11;
function Z(a,b,c){D.call(this,a,b,Ib,c);this.da=I(this,"cyclesMinimum",1E5);this.la=I(this,"cyclesMaximum",3E6);this.X=La(I(this,"cyclesPerSecond",65E4),this.da,this.la);this.M=La(I(this,"yieldsPerSecond",Jb),30,120);this.ma=La(I(this,"yieldsPerUpdate",Kb),1,this.M);this.Y=(this.j=I(this,"clockByFrame",!0))||I(this,"requestAnimationFrame",!0);this.ja=this.ka=this.U=1;this.aa=this.X/1E4/100;this.g=this.s=this.aa*this.U;this.w=0;this.W=Math.round(1E3/this.M);this.Z=[];this.V=[];this.b=[];this.$=[];
this.a=this.K=this.m=!1;this.L=this.f=0;this.ra=this.Ba.bind(this);this.na=this.ga.bind(this);this.fa=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.setTimeout).bind(window);if(!this.j){var d=this;Xa(this,"timerYield",function(){d.K=!0;var a=d.w,b=Lb(d);b>=d.M?d.w++:d.w+=Math.ceil(d.M/b);d.w>=d.ma&&a<d.ma&&Mb(d);d.w>=d.M&&(d.w=0)},this.W)}this.R=this.N=this.i=0;Nb(this)||Ob(this,this.ja)}u(Z,D);function qb(a,b){a.Z.push(b)}
Z.prototype.ba=function(a,b){var c=this;switch(a){case Pb:b.onclick=function(){c.a?Qb(c):c.start()};break;case Rb:b.onclick=function(){c.a?F(c,"already running"):c.f?Qb(c):Sb(c,void 0)};break;case Tb:b.addEventListener("mousedown",function(){c.m=!0}),b.addEventListener("mouseup",function(){Nb(c);c.m=!1}),b.addEventListener("mousemove",function(){c.m&&Nb(c)}),b.addEventListener("change",function(){c.m=!0;Nb(c);c.m=!1})}D.prototype.ba.call(this,a,b)};
function Xa(a,b,c,d){d=void 0===d?-1:d;var e=a.b.length+1;a.b.push({id:b,xa:c,oa:d,S:-1});0<=d&&Q(a,e,d);return e}Z.prototype.ga=function(){if(this.j){if(!this.a)return;Ub(this);try{this.K=!1;do{var a=this.O+=this.za;if(1>a)a=0;else{a|=0;for(var b=this.b.length;0<b;b--){var c=this.b[b-1];!(0>c.S)&&a>c.S&&(a=c.S)}}Vb(this,Wb(this,Xb(this,a)))}while(this.a&&!this.K)}catch(d){F(this,d.message);Qb(this);return}Yb(this)}for(a=0;a<this.Z.length;a++)this.Z[a]();this.a&&this.Y&&this.fa(this.na)};
function Zb(a){var b=a.g/a.aa;if(!b||b>a.U)b=a.U;a.Aa=a.X/a.M*b;a.ka=b}function Xb(a,b,c){a.N=a.i=b;if(!a.V.length)return a.i=0,a.N;for(var d=0;0<a.i;)d<a.V.length?b=a.V[d++](c?0:b)||1:d=b=0,a.i-=b;return a.N-a.i}function Wb(a,b){b=void 0===b?a.N-a.i:b;a.j&&a.a&&(a.O-=b,1>a.O&&(a.K=!0));a.N=a.i=0;a.T+=b;a.R+=b;a.a||(a.R=0);return b}function Lb(a,b){return Math.ceil(a.X*a.ka/1E3*(void 0===b?1E3:b))}
function $b(a){1<=a?a=a.toFixed(2)+"Mhz":(a=Math.round(1E6*a),a=999>=a?a+"Hz":Math.ceil(a/1E3)+"Khz");return a}Z.prototype.Ba=function(){this.L=0;if(this.a){Ub(this);try{this.K=!1;do{for(var a=Lb(this,this.W),b=this.b.length;0<b;b--){var c=this.b[b-1];!(0>c.S)&&a>c.S&&(a=c.S)}Vb(this,Wb(this,Xb(this,a)))}while(this.a&&!this.K)}catch(d){F(this,d.message);Qb(this);return}this.a&&(this.L=setTimeout(this.ra,Yb(this)),this.Y||this.ga())}};
function Nb(a){var b=a.o[Tb];return b?(Ob(a,Math.floor((b.value-b.min)/(b.max-b.min)*(a.la-a.da)+a.da)/a.X),!0):!1}function Ob(a,b){void 0!==b&&(!a.m&&0<a.g&&a.g<.9*a.s&&(b=a.ja),a.U=b,b=a.aa*a.U,a.s!=b&&(a.s=b,M(a,ac,$b(a.s))),a.g=a.s);a.j&&(a.za=1E6*a.g/60+.000001,a.O=0);a.R=0;a.c=a.h=0;Zb(a);for(b=a.b.length;0<b;b--){var c=a.b[b-1];0<=c.oa&&Q(a,b,c.oa,!0)}}function Q(a,b,c,d){0<b&&b<=a.b.length&&(b=a.b[b-1],d||0>b.S)&&(c=Lb(a,c),a.a&&(c+=Wb(a)),b.S=c)}
function Ub(a){Zb(a);a.T=0;a.ca=0;a.u=Date.now();a.c||(a.c=a.u);if(a.h){var b=a.u-a.h;b>a.W&&(a.c+=b,a.c>a.u&&(a.c=a.u))}}function Yb(a){a.h=Date.now();a.ca&&(a.c+=a.ca,a.u+=a.ca);var b=a.W;a.T&&(b=Math.round(b*a.T/a.Aa));b-=a.h-a.u;var c=a.h-a.c;c&&(a.g=a.R/(10*c)/100);0>b?(-1E3>b&&(a.c-=b),b=0):a.g<a.s&&(b=0);a.h+=b;K&&0<=K.indexOf("time")&&a.ea("after running %d cycles, resting for %dms\n",a.T,b);return b}
Z.prototype.start=function(){if(this.a||this.f)return!1;this.L&&(clearTimeout(this.L),this.L=0);this.a=!0;this.c=this.h=0;Mb(this,!0);this.j||(this.L=setTimeout(this.ra,0));this.Y&&this.fa(this.na);return!0};function Sb(a,b){b=void 0===b?1:b;a.a||(b&&!a.f&&(a.f=b),a.f&&(a.f--,Vb(a,Wb(a,Xb(a,1,!0))),Mb(a),a.f&&setTimeout(function(){Sb(a,0)},0)))}function Qb(a){a.f?(a.f=0,Mb(a,!0)):a.a&&(a.a=!1,Wb(a),Mb(a,!0))}
function Mb(a,b){b&&(a.a?F(a,"starting ("+$b(a.s)+" target by "+(a.j?"frame":"timer")+")"):F(a,"stopping"));M(a,Pb,a.a?"Halt":"Run");M(a,Rb,a.f?"Stop":"Step");a.m||M(a,ac,a.a&&a.g?$b(a.g):"Stopped");for(var c=0;c<a.$.length;c++)a.$[c](b)}function Vb(a,b){if(1<=b)for(var c=a.b.length;0<c;c--){var d=a.b[c-1];0>d.S||(d.S-=b,0>=d.S&&(d.S=-1,d.xa(),0<=d.oa&&Q(a,c,d.oa)))}}var Pb="run",ac="speed",Rb="step",Tb="throttle",Jb=120,Kb=60,Ib=1.11;
function bc(a,b,c){D.call(this,a,b,cc,c);this.h=I(this,"wrap",!1);this.s=I(this,"rule","");this.i=I(this,"pattern","");this.m=I(this,"symbols","");this.M=I(this,"toggleColor",!1);this.L=Array(dc(this).length);if(c=H(this,ec)){this.a=c;fc(this)||rb(c,!0);(this.f=H(this,gc))&&bb(this.f,this.ha.bind(this),this.qa.bind(this));var d=this;this.w=new N(a,b+"Input",{"class":"Input",location:[0,0,c.V,c.T,c.h,c.U],drag:!(!this.f||!this.f.X),scroll:!(!this.f||!this.f.O),hexagonal:c.X,bindings:{surface:Ia(c,
lb)}});db(this.w,function(a,b){var c=d.a;0<=a&&0<=b&&(d.g?Bb(c,a,b,d.g)?Y(c,a,b,1):d.M?Bb(c,a,b):Y(c,a,b,1-W(c,a,b)):Y(c,a,b,1-W(c,a,b)),Cb(c,a,b,dc(d,!!W(c,a,b))),U(c))});this.c=[];this.K=c.g;hc(this,this.K);ic(this);jc(this,this.l[kc]);if(this.time=H(this,O))this.time.V.push(this.ya.bind(this)),this.time.$.push(this.va.bind(this));Aa(this,this.Ca.bind(this));this.u=this.j=0}}u(bc,D);t=bc.prototype;
t.ba=function(a,b){var c=this;switch(a){case lc:case mc:b.onchange=function(){nc(c,a)};nc(this);break;case kc:b.onchange=function(){jc(c)};break;case oc:za(b,pc(this.l[oc]),!1,this.l.pattern);b.onchange=function(){var a=c.o[oc];a&&a.options.length&&((a=a.options[a.selectedIndex].value)?fc(c,a):c.qa())};break;case qc:b.onclick=function(){var a=rc(c,!0),b=c.o[sc];b&&(a='"'+b.value+'":"'+a+'",');F(c,a)};break;case tc:b.onclick=function(){var a=rc(c);F(c,a);var b=window.location.href;b=0<=b.indexOf("pattern\x3d")?
b.replace(/(pattern=)[^&]*/,"$1"+a.replace(/\$/g,"$$$$")):b+((0>b.indexOf("?")?"?":"\x26")+"pattern\x3d"+a);window.location=b};break;case sc:b.onkeypress=function(a){b.value=String.fromCharCode(a.charCode);var d=c.o[uc];d&&(d.textContent=b.value);a.preventDefault()};break;default:if(a.startsWith(vc))b.onclick=function(){ic(c,a)};else{var d=this.l[oc];d&&d[a]&&(b.onclick=function(){fc(c,a)})}}D.prototype.ba.call(this,a,b)};
function pc(a){var b={},c;for(c in a){for(var d=c,e=a[c],g=0;g<e.length;g++)if(0==e[g].indexOf("#N")){d=e[g].substr(2).trim();break}b[d]=c}return b}
t.ya=function(a){a=void 0===a?0:a;var b=0;if(0<=a){do{switch(this.s){case wc:var c=0;for(var d=this.a,e=d.b,g=d.f,h=this.L,f=0;f<g;f++)for(var n=0;n<e;n++){var k=h,m=!1,l=4*(f*d.b+n);if(l<=d.a.length-4&&d.a[l+1]){m=!0;l=d.a[l+2];for(var p=k.length-1;0<=p;p--)k[p]=l&15,l>>>=4}if(m){c++;if(h[0])h[0]--;else{m=(k=W(d,n,f))||0;switch(k){case 1:if(m=X,h[0]=h[2],h[0]){h[0]--;break}case X:if(h[3]&&(m=this.c.indexOf(d.a[4*(f*d.b+n)+1]||d.j),0<=m)){for(m+=h[3];m>=this.c.length;)m-=this.c.length;Bb(d,n,f,this.c[m])}m=
1;h[0]=h[1];h[0]&&h[0]--}m!==k&&Y(d,n,f,m)}Cb(d,n,f,h)}}break;case xc:c=1;c=void 0===c?1:c;d=0;e=this.a;g=e.b;h=e.f;!this.j&&this.m&&this.u<this.m.length&&(this.j=yc(this,e.h,0,zc[this.m[this.u++]],!0));for(f=0;f<h;f++)for(n=0;n<g-c;n++)k=W(e,n,f)||X,(m=W(e,n+1,f)||X)&&d++,Y(e,n,f,m),Y(e,n+1,f,k);this.j&&this.j--;e.R=!0;c=d;break;case Ac:c=0;d=this.a.a;e=this.a;e.w||(e.w=Array(e.Y),sb(e,e.w));e=e.w;g=this.a.b;h=this.a.f;f=4*g;n=h*f;k=0;m=k-f;l=m-4;p=m+4;for(var r=k-4,q=k+4,v=k+f,x=v-4,w=v+4,C=0;C<
h;C++){C?C==h-1&&(this.h?(v-=n,x-=n,w-=n):v=x=w=n):this.h?(m+=n,l+=n,p+=n):m=l=p=n;for(var z=0;z<g;z++){z?1==z?this.h?(r-=f,l-=f,x-=f):(r=k-4,l=m-4,x=v-4):z==g-1&&(this.h?(q-=f,p-=f,w-=f):q=p=w=n):this.h?(r+=f,l+=f,x+=f):r=l=x=n;var A=d[k],fa=d[l]+d[m]+d[p]+d[q]+d[w]+d[v]+d[x]+d[r];3==fa?A=1:2!=fa&&(A=X);e[k]=A;e[k+1]=d[k+1];e[k+2]=d[k+2];e[k+3]=d[k+3]|(d[k]!==A?V:0);k+=4;l+=4;m+=4;p+=4;q+=4;w+=4;v+=4;x+=4;r+=4;1==A&&c++}this.h?(C||(m-=n,l-=n,p-=n),q+=f,p+=f,w+=f):(C||(m=k-f,l=m-4),q=k+4,p=m+4,w=
v+4)}d=this.a;e=d.a;d.a=d.w;d.w=e;d.s=!0}a||F(this,"living cells: "+c);b+=1}while(b<a)}return b};function Bc(a,b){var c=0;(a=a.o[b])&&a.options&&(c=(c=a.options[a.selectedIndex])&&+c.value||0);return c}function dc(a,b){var c=0;if(b&&(b=a.o[Cc])&&b.options){var d=b.options[b.selectedIndex];d&&(c=+d.value||0,b.selectedIndex++,d=Bc(a,Dc)+Bc(a,Ec),!(d&1)&&c==d-1||0>b.selectedIndex||b.selectedIndex>=b.options.length)&&(b.selectedIndex=0)}c=[c];for(b=1;b<Fc.length;b++)c.push(Bc(a,Fc[b]));return c}
function fc(a,b){var c=a.a,d=-1,e=-1,g="";b||a.i.match(/^[0-9]/)||(b=a.i);if(b){var h=a.l[oc];h=h&&h[b];if(!h)return F(a,"unknown pattern: "+b),!1;F(a,"loading pattern '"+b+"'");for(var f=b=0;b<h.length;b++){var n=h[b];if("#"==n[0])F(a,n);else if(f++){var k=n.indexOf("!");if(0<=k){g+=n.substr(0,k);break}g+=n}else{var m=n.match(/x\s*=\s*([0-9]+)\s*,\s*y\s*=\s*([0-9]+)\s*(?:,\s*rule\s*=\s*(\S+)|)/i);if(!m)return F(a,"unrecognized header line"),!1;var l=+m[1];var p=+m[2];m=m[3]}}}else{if(!a.i)return!1;
g=0;m=a.i.split("/");5==m.length&&(d=+m[g++],e=+m[g++]);if(3==m.length||5==m.length)l=+m[g++],p=+m[g++],g=m[g];else return F(a,"unrecognized pattern: "+a.i),!1;m=a.s}if(m!=a.s)return F(a,"unsupported rule: "+m),!1;0>d&&(d=c.b-l>>1);0>e&&(e=c.f-p>>1);return 0>d||d+l>c.b||0>e||e+p>c.f?(a.ea("pattern too large (%d,%d)\n",l,p),!1):0<yc(a,d,e,g)}
function yc(a,b,c,d,e){e=void 0===e?!1:e;var g=a.a,h=[0,0,0,1],f=0,n=!1,k=!1;d=d.split(/([a-z$])/i);e||rb(g);for(var m=0,l=b,p=0;m<d.length-1;){var r=d[m++],q=d[m++],v=+r;for(r=""===r?1:v;r--;){var x=0,w=!1;switch(q){case "$":n=k=!1;b=l;c++;break;case "C":f=v;k=!0;break;case "R":h[0]=v;n=!0;break;case "G":h[1]=v;n=!0;break;case "B":h[2]=v;n=!0;break;case "A":h[3]=v;n=!0;break;case "b":w=Y(g,b,c,X);x++;break;case "o":w=Y(g,b,c,1);x++;break;default:a.ea("unrecognized pattern token: %s\n",q)}null==w?
a.ea("invalid pattern position (%d,%d)\n",b,c):(n&&Bb(g,b,c,4>h.length||1==h[3]?g.ia("#%02x%02x%02x",h[0],h[1],h[2]):g.ia("rgba(%d,%d,%d,%d)",h[0],h[1],h[2],h[3])),k&&(w=4*(c*g.b+b),w<=g.a.length-4&&g.a[w+2]!=f&&(g.a[w+2]=f)),p<b&&(p=b),b+=x)}}e||U(g,!0);return 0>(p-=l-1)?0:p}t.Ca=function(a){var b="";switch(a[1][0]){case "?":b="";Gc.forEach(function(a){b+="\n"+a});b&&(b="available commands:"+b);break;default:a[0]&&(b="unrecognized command '"+a[0]+"' (try '?')")}b&&F(this,b.trim());return!0};
t.ha=function(a){this.time&&(a?this.time.start():Qb(this.time))};t.qa=function(){F(this,"reset");rb(this.a,!0)};
t.ta=function(){var a=null;if(Ma(this)){var b;if(window)try{(b=window.localStorage.getItem(this.v))&&(a=JSON.parse(b))}catch(e){F(this,e.message)}}if(a)if((b=a.stateChip||a[0])&&b.length)if(b=b.shift(),(b|0)!==(cc|0))this.ea("Saved state version mismatch: %3.2f\n",b);else{if(!Ca().pattern&&!Ca()[kc]){var c=a.stateLEDs||a[1];if(c&&this.a&&!this.m){a=this.a;b=c.shift();var d=c.shift();c=c.shift();if(b==a.g&&d==a.m&&c&&c.length==a.a.length){a.a=c;for(b=0;b<=a.a.length-4;b+=4)a.a[b+1]==a.j&&(a.a[b+1]=
null);U(a,!0)}}}}else F(this,"Invalid saved state")};t.ua=function(){var a=[[],[]],b=a[1];a[0].push(cc);if(this.a){var c=this.a;c.a&&(b.push(c.g),b.push(c.m),b.push(c.a))}if(Ma(this)){a=JSON.stringify(a);try{window.localStorage.setItem(this.v,a)}catch(d){F(this,d.message)}}};
function rc(a,b){function c(a){var b=!1;null==m[3]&&(m[3]=1);if(x){if(n){if(m[0]!==q[0]||m[1]!==q[1]||m[2]!==q[2]||m[3]!==q[3])b=!0;fa!==v&&(b=!0)}k!==r&&(b=!0);if(b||a&&r)n&&(l[0]!==q[0]&&(l[0]=q[0],e+=(q[0]||"")+"R"),l[1]!==q[1]&&(l[1]=q[1],e+=(q[1]||"")+"G"),l[2]!==q[2]&&(l[2]=q[2],e+=(q[2]||"")+"B"),l[3]!==q[3]&&(l[3]=q[3],e+=(q[3]||"")+"A"),p!==v&&(p=v,e+=(v||"")+"C")),1<x&&(e+=x),e+=1===r?"o":"b",b=!0}a?(e+="$",x=0):(b?x=1:x++,r=k,q[0]=m[0],q[1]=m[1],q[2]=m[2],q[3]=m[3],v=fa)}var d=a.a,e="",
g=0,h=a.a.b,f=a.a.f,n=!!a.c.length,k,m=[0,0,0],l=[0,0,0,1],p=0,r=0,q=[0,0,0,1],v=0,x=0;a=0;var w=d.b-1,C=d.f-1;if(b){b&&(a=w,w=0);for(h=0;h<d.f;h++)for(f=0;f<d.b;f++)(k=W(d,f,h))&&b&&(a>f&&(a=f),w<f&&(w=f));h=w-a+1;f=C-0+1;0>h&&(h=0);0>f&&(f=0)}for(var z=0;z<=C;z++){for(var A=a;A<=w;A++){k=W(d,A,z);Ab(d.a[4*(z*d.b+A)+1]||d.j,m);var fa=yb(d,A,z);c()}c(!0)}if(!b)for(;"$"==e[0];)g++,f--,e=e.slice(1);for(;"$$"==e.slice(-2);)f--,e=e.slice(0,-1);"$"==e&&(f=0);e=(b?"":"0/"+g+"/")+h+"/"+f+"/"+e.slice(0,-1);
return e=e.replace(/\$+$/,"")}function jc(a,b){var c=a.o[kc];if(c&&c.options.length){if(b)for(var d=0;d<c.options.length;d++)if(c.options[d].value==b){c.selectedIndex=d;break}b=c.options[c.selectedIndex].value;a=a.a;a.Z&&(a.Z.style.backgroundImage=b?"url('"+b+"')":"none")}}
function nc(a,b){var c=a.o[lc],d=a.o[mc];b=b===lc;c&&!c.options.length&&(za(c,a.l.colors,!0),b=!0);if(c&&d&&(!d.options.length||b)){a.b=a.l.colors[c.options[c.selectedIndex].value];for(var e in a.b)if(b=a.l[e.toLowerCase()])"#"!=b[0]&&(b="#"+b),F(a,"overriding color '"+e+"' with "+b+" (formerly "+a.b[e]+")"),a.b[e]=b;za(d,a.b,!0)}c&&d&&d.options.length&&(a.g=d.options[d.selectedIndex].value,ic(a))}
function hc(a,b){var c=a.o[mc];if(c){var d;for(d=0;d<c.options.length;d++)if(c.options[d].value==b){a.g=b;c.selectedIndex!=d&&(c.selectedIndex=d);break}d==c.options.length&&(c.selectedIndex=0)}}
function ic(a,b){var c=1,d;!b&&a.g&&(d=a.o[Hc])&&(d.style.backgroundColor=a.g);if(a.b)for(var e in a.b){var g=a.b[e];a.c&&(a.c[c-1]=g);var h=vc+c++;d=a.o[h];if(!d)break;d.style.display="inline-block";h==b&&hc(a,g);if(b&&b!=h||g!=a.g)g=T(g,1,.5);d.style.backgroundColor=g}for(;;){b=vc+c++;b=a.o[b];if(!b)break;b.style.display="none"}}t.va=function(){this.time.a||U(this.a)};
var lc="colorPalette",mc="colorSelection",vc="colorSwatch",Hc="colorSwatchSelected",Cc="countInit",Dc="countOn",Ec="countOff",kc="backgroundImage",oc="patterns",sc="symbolInput",uc="symbolPreview",qc="save",tc="saveToURL",Fc=[null,Dc,Ec,"countCycle"],Gc=[],wc="A4",xc="L1",Ac="B3/S23",zc={A:"10/14/$3b4o$2bo4bo$2bo4bo$bo6bo$bo6bo$o8bo$o8bo$o8bo$10o$o8bo$o8bo$o8bo$o8bo",B:"10/14/$7o$o6bo$o7bo$o7bo$o7bo$o6bo$8o$o7bo$o8bo$o8bo$o8bo$o8bo$9o",C:"8/14/$2b6o$bo$o$o$o$o$o$o$o$o$o$bo$2b6o",D:"10/14/$8o$o7bo$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo$o7bo$8o",
E:"8/14/$8o$o$o$o$o$o$7o$o$o$o$o$o$8o",F:"8/14/$8o$o$o$o$o$o$o$7o$o$o$o$o$o",G:"9/14/$2b6o$bo$o$o$o$o$o$o$o6b2o$o7bo$o7bo$bo6bo$2b7o",H:"10/14/$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo$10o$o8bo$o8bo$o8bo$o8bo$o8bo$o8bo",I:"7/14/$7o$3bo$3bo$3bo$3bo$3bo$3bo$3bo$3bo$3bo$3bo$3bo$7o",J:"9/14/$8bo$8bo$8bo$8bo$8bo$8bo$8bo$8bo$o7bo$o7bo$o7bo$bo5bo$2b5o"},cc=1.11;qa="LEDs";
function Ic(a,b){D.call(this,a,a,Jc);try{this.l=JSON.parse(b);var c=this.l[a];ra(this,c);sa(this,c);ta(this,c.bindings);this.a=!1!==c.autoPower}catch(h){c=h.message;var d=c.match(/position ([0-9]+)/);d&&(c+=" ('"+b.substr(+d[1],40).replace(/\s+/g," ")+"...')");F(this,"machine '"+a+"' initialization error: "+c)}var e=this,g=null;window.addEventListener("load",function(){for(var a,b,c,d,m=0;m<Kc.length;m++)for(a in e.l)try{var l=e.l[a],p="";b=l["class"];if(b==Kc[m]){switch(b){case Lc:d=c=new bc(e.v,
a,l);break;case gc:c=new N(e.v,a,l);break;case ec:c=new jb(e.v,a,l);break;case Mc:c=new Fb(e.v,a,l);c.l.revision&&(p="revision "+c.l.revision);break;case O:c=new Z(e.v,a,l);break;case Nc:e.ea("PCjs %s v%3.2f\n",l.name,Jc);F(e,Oc);F(e,Pc);continue;default:F(e,"unrecognized device class: "+b);continue}F(e,b+" device initialized"+(p?" ("+p+")":""))}}catch(v){F(e,"error initializing "+b+" device '"+a+"':\n"+v.message);p=void 0;var r=a,q=E[e.v];if(q)for(p in q)if(q[p].pa==r){q.splice(p,1);break}}if(g=
d)g.ta&&g.ta(),g.ha&&e.a&&g.ha(!0)});window.addEventListener((Oa("iOS")?"pagehide":Oa("Opera")?"unload":void 0)||"beforeunload",function(){g&&(g.ua&&g.ua(),g.ha&&g.ha(!1))})}u(Ic,D);var Lc="Chip",gc="Input",ec="LED",Nc="Machine",Mc="ROM",O="Time",Kc=[Nc,O,ec,gc,Mc,Lc],Oc="Copyright \u00a9 2012-2017 Jeff Parsons \x3cJeff@pcjs.org\x3e",Pc="License: GPL version 3 or later \x3chttp://gnu.org/licenses/gpl.html\x3e",Jc=1.11;window[qa]=Ic;})()
//# sourceMappingURL=leds.js.map
